<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><!-- Primary meta --><title>Querying with LINQ â€“ BLite</title><meta name="description" content="BLite ships a full LINQ IQueryable provider. Write expressive, type-safe queries that run on bare metal without an ORM layer."><meta name="keywords" content="BLite, embedded database, .NET database, BSON, zero allocation, ACID transactions, CDC, Change Data Capture, document store, NoSQL, .NET 10, source generators, spatial index, R-Tree"><meta name="author" content="BLite Project"><meta name="robots" content="index, follow"><meta name="theme-color" content="#e74c3c"><link rel="canonical" href="https://blitedb.com/docs/querying"><!-- Favicon --><link rel="icon" type="image/svg+xml" href="/icon.svg"><!-- Open Graph --><meta property="og:type" content="website"><meta property="og:site_name" content="BLite"><meta property="og:url" content="https://blitedb.com/docs/querying"><meta property="og:title" content="Querying with LINQ â€“ BLite"><meta property="og:description" content="BLite ships a full LINQ IQueryable provider. Write expressive, type-safe queries that run on bare metal without an ORM layer."><meta property="og:image" content="https://blitedb.com/og-image.png"><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Querying with LINQ â€“ BLite"><meta name="twitter:description" content="BLite ships a full LINQ IQueryable provider. Write expressive, type-safe queries that run on bare metal without an ORM layer."><meta name="twitter:image" content="https://blitedb.com/og-image.png"><!-- JSON-LD Structured Data --><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "BLite",
    "url": "https://blitedb.com",
    "description": "BLite is a high-performance, embedded, ACID-compliant BSON document store for .NET 10. Features zero-allocation I/O, Change Data Capture, R-Tree spatial indexing, and compile-time source generators.",
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Windows, Linux, macOS",
    "programmingLanguage": "C#",
    "license": "https://opensource.org/licenses/MIT",
    "codeRepository": "https://github.com/EntglDb/BLite",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "keywords": "embedded database, BSON, .NET, zero allocation, ACID, CDC, NoSQL"
  }</script><script type="module" async="" crossorigin="" src="/assets/app-D5E38-Rz.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-tNW2Lol7.css"></head><body><div id="app" data-server-rendered="true"><div class="app-layout" data-v-fb6af8ee=""><header class="main-header glass-panel" data-v-fb6af8ee=""><div class="container header-content" data-v-fb6af8ee=""><a href="/" class="logo-link" data-v-fb6af8ee=""><img src="/icon.svg" alt="BLite" class="logo-img" data-v-fb6af8ee=""><div class="logo-text" data-v-fb6af8ee="">BLite<span class="dot" data-v-fb6af8ee="">.</span></div></a><nav data-v-fb6af8ee=""><a href="/" class="" data-v-fb6af8ee="">Home</a><a href="/docs" class="router-link-active" data-v-fb6af8ee="">Docs</a><a href="/studio" class="" data-v-fb6af8ee="">Studio</a><a href="/comparisons" class="" data-v-fb6af8ee="">Comparisons</a><a href="https://github.com/EntglDb/BLite" target="_blank" class="github-link" data-v-fb6af8ee="">GitHub â†—</a></nav></div></header><main data-v-fb6af8ee=""><div class="docs-layout" data-v-fb6af8ee="" data-v-0b425e15=""><aside class="docs-sidebar" data-v-0b425e15=""><div class="sidebar-header" data-v-0b425e15=""><h2 data-v-0b425e15="">Documentation</h2></div><nav class="sidebar-nav" data-v-0b425e15=""><!--[--><a href="/docs/getting-started" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸš€</span><span class="nav-label" data-v-0b425e15="">Getting Started</span></a><a href="/docs/installation" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ“¦</span><span class="nav-label" data-v-0b425e15="">Installation</span></a><a href="/docs/transactions" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ”„</span><span class="nav-label" data-v-0b425e15="">Transactions &amp; Async</span></a><a href="/docs/crud" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">âœï¸</span><span class="nav-label" data-v-0b425e15="">CRUD Operations</span></a><a aria-current="page" href="/docs/querying" class="router-link-active router-link-exact-active active nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ”</span><span class="nav-label" data-v-0b425e15="">Querying</span></a><a href="/docs/generators" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ¤–</span><span class="nav-label" data-v-0b425e15="">Source Generators</span></a><a href="/docs/cdc" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ“¡</span><span class="nav-label" data-v-0b425e15="">Change Data Capture</span></a><a href="/docs/spatial" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸŒ</span><span class="nav-label" data-v-0b425e15="">Spatial Indexing</span></a><a href="/docs/architecture" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ—ï¸</span><span class="nav-label" data-v-0b425e15="">Architecture</span></a><a href="/docs/converters" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ†”</span><span class="nav-label" data-v-0b425e15="">Custom ID Converters</span></a><a href="/docs/benchmarks" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">âš¡</span><span class="nav-label" data-v-0b425e15="">Benchmarks</span></a><a href="/docs/dynamic-api" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ”Œ</span><span class="nav-label" data-v-0b425e15="">Schema-less API</span></a><a href="/docs/blql" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ğŸ”</span><span class="nav-label" data-v-0b425e15="">BLQL</span></a><!--]--></nav></aside><main class="docs-content" data-v-0b425e15=""><div class="container" data-v-0b425e15=""><div class="doc-page" data-v-0b425e15="" data-v-47ed9cda=""><h1 data-v-47ed9cda="">ğŸ” Querying</h1><p class="lead" data-v-47ed9cda="">Master BLite's powerful LINQ-based query engine with automatic index optimization.</p><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Basic Queries</h2><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="keyword" data-v-47ed9cda="">var</span> results = users.AsQueryable()
    .Where(u =&gt; u.Age &gt; <span class="number" data-v-47ed9cda="">25</span>)
    .AsEnumerable();

<span class="keyword" data-v-47ed9cda="">foreach</span> (<span class="keyword" data-v-47ed9cda="">var</span> user <span class="keyword" data-v-47ed9cda="">in</span> results)
{
    Console.WriteLine(user.Name);
}</code></pre></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Filtering</h2><h3 data-v-47ed9cda="">Comparison Operators</h3><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// Equality</span>
.Where(u =&gt; u.Name == <span class="string" data-v-47ed9cda="">"Alice"</span>)

<span class="comment" data-v-47ed9cda="">// Greater than / Less than</span>
.Where(u =&gt; u.Age &gt; <span class="number" data-v-47ed9cda="">30</span>)
.Where(u =&gt; u.Age &lt;= <span class="number" data-v-47ed9cda="">50</span>)

<span class="comment" data-v-47ed9cda="">// Range</span>
.Where(u =&gt; u.Age &gt;= <span class="number" data-v-47ed9cda="">18</span> &amp;&amp; u.Age &lt;= <span class="number" data-v-47ed9cda="">65</span>)</code></pre><h3 data-v-47ed9cda="">String Operations</h3><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// StartsWith (optimized with B-Tree index)</span>
.Where(u =&gt; u.Name.StartsWith(<span class="string" data-v-47ed9cda="">"A"</span>))

<span class="comment" data-v-47ed9cda="">// Contains (full scan)</span>
.Where(u =&gt; u.Email.Contains(<span class="string" data-v-47ed9cda="">"@example.com"</span>))

<span class="comment" data-v-47ed9cda="">// Case-insensitive</span>
.Where(u =&gt; u.Name.ToLower() == <span class="string" data-v-47ed9cda="">"alice"</span>)</code></pre><h3 data-v-47ed9cda="">Logical Operators</h3><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// AND</span>
.Where(u =&gt; u.Age &gt; <span class="number" data-v-47ed9cda="">25</span> &amp;&amp; u.Name.StartsWith(<span class="string" data-v-47ed9cda="">"A"</span>))

<span class="comment" data-v-47ed9cda="">// OR</span>
.Where(u =&gt; u.Age &lt; <span class="number" data-v-47ed9cda="">18</span> || u.Age &gt; <span class="number" data-v-47ed9cda="">65</span>)

<span class="comment" data-v-47ed9cda="">// NOT</span>
.Where(u =&gt; !(u.Age &gt;= <span class="number" data-v-47ed9cda="">18</span> &amp;&amp; u.Age &lt;= <span class="number" data-v-47ed9cda="">65</span>))</code></pre></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Sorting</h2><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// Ascending</span>
.OrderBy(u =&gt; u.Age)

<span class="comment" data-v-47ed9cda="">// Descending</span>
.OrderByDescending(u =&gt; u.Name)

<span class="comment" data-v-47ed9cda="">// Multiple sort keys</span>
.OrderBy(u =&gt; u.Age)
.ThenBy(u =&gt; u.Name)</code></pre></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Pagination</h2><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="keyword" data-v-47ed9cda="">int</span> page = <span class="number" data-v-47ed9cda="">2</span>;
<span class="keyword" data-v-47ed9cda="">int</span> pageSize = <span class="number" data-v-47ed9cda="">10</span>;

<span class="keyword" data-v-47ed9cda="">var</span> results = users.AsQueryable()
    .OrderBy(u =&gt; u.Id)
    .Skip((page - <span class="number" data-v-47ed9cda="">1</span>) * pageSize)
    .Take(pageSize)
    .AsEnumerable();</code></pre></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Projection</h2><h3 data-v-47ed9cda="">Select Specific Fields</h3><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="keyword" data-v-47ed9cda="">var</span> names = users.AsQueryable()
    .Select(u =&gt; u.Name)
    .AsEnumerable();

<span class="comment" data-v-47ed9cda="">// Anonymous types</span>
<span class="keyword" data-v-47ed9cda="">var</span> summary = users.AsQueryable()
    .Select(u =&gt; <span class="keyword" data-v-47ed9cda="">new</span> { u.Name, u.Age })
    .AsEnumerable();</code></pre><h3 data-v-47ed9cda="">Push-down Projection <span style="font-size:.75em;color:#06b6d4;font-weight:600" data-v-47ed9cda="">NEW in v1.5.0</span></h3><p data-v-47ed9cda="">When a query contains only scalar-field projections, BLite compiles the SELECT lambda into a single-pass raw-BSON reader. The source type <code data-v-47ed9cda="">T</code> is <strong data-v-47ed9cda="">never instantiated</strong> â€” only the requested bytes are read off the page.</p><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// Only Name and Age bytes are read â€” User is never allocated</span>
<span class="keyword" data-v-47ed9cda="">var</span> dtos = users.AsQueryable()
    .Select(u =&gt; <span class="keyword" data-v-47ed9cda="">new</span> UserDto(u.Name, u.Age))
    .ToList();

<span class="comment" data-v-47ed9cda="">// WHERE + SELECT: both evaluated in a single BSON pass</span>
<span class="keyword" data-v-47ed9cda="">var</span> adults = users.AsQueryable()
    .Where(u =&gt; u.Age &gt;= <span class="number" data-v-47ed9cda="">18</span>)
    .Select(u =&gt; <span class="keyword" data-v-47ed9cda="">new</span> { u.Name, u.Age })
    .ToList();</code></pre><div class="info-box" data-v-47ed9cda=""><strong data-v-47ed9cda="">âš¡ When push-down fires:</strong> SELECT with scalar fields only, with or without a WHERE clause. Queries that include <code data-v-47ed9cda="">OrderBy</code> / <code data-v-47ed9cda="">Take</code> / <code data-v-47ed9cda="">Skip</code> <em data-v-47ed9cda="">after</em> the projection still benefit â€” the ordering/paging is applied on the already-projected <code data-v-47ed9cda="">IEnumerable&lt;TResult&gt;</code>. Complex/nested fields (e.g. <code data-v-47ed9cda="">x.Address</code>) automatically fall back to the standard path.</div></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Async LINQ <span style="font-size:.75em;color:#06b6d4;font-weight:600" data-v-47ed9cda="">v1.4.0+</span></h2><p data-v-47ed9cda=""><code data-v-47ed9cda="">AsQueryable()</code> returns <code data-v-47ed9cda="">IBLiteQueryable&lt;T&gt;</code>, which preserves the async chain across all LINQ operators.</p><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// Async terminal operators</span>
<span class="keyword" data-v-47ed9cda="">var</span> list  = <span class="keyword" data-v-47ed9cda="">await</span> users.AsQueryable().Where(u =&gt; u.Age &gt; <span class="number" data-v-47ed9cda="">25</span>).ToListAsync();
<span class="keyword" data-v-47ed9cda="">var</span> count = <span class="keyword" data-v-47ed9cda="">await</span> users.AsQueryable().CountAsync();
<span class="keyword" data-v-47ed9cda="">var</span> any   = <span class="keyword" data-v-47ed9cda="">await</span> users.AsQueryable().AnyAsync(u =&gt; u.Active);

<span class="comment" data-v-47ed9cda="">// Async streaming via IAsyncEnumerable&lt;T&gt;</span>
<span class="keyword" data-v-47ed9cda="">await foreach</span> (<span class="keyword" data-v-47ed9cda="">var</span> user <span class="keyword" data-v-47ed9cda="">in</span> users.AsQueryable().Where(u =&gt; u.Age &gt; <span class="number" data-v-47ed9cda="">25</span>).AsAsyncEnumerable())
{
    Console.WriteLine(user.Name);
}</code></pre></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Aggregations</h2><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// Count</span>
<span class="keyword" data-v-47ed9cda="">var</span> total = users.AsQueryable().Count();
<span class="keyword" data-v-47ed9cda="">var</span> adults = users.AsQueryable().Count(u =&gt; u.Age &gt;= <span class="number" data-v-47ed9cda="">18</span>);

<span class="comment" data-v-47ed9cda="">// Sum, Min, Max, Average</span>
<span class="keyword" data-v-47ed9cda="">var</span> totalAge = users.AsQueryable().Sum(u =&gt; u.Age);
<span class="keyword" data-v-47ed9cda="">var</span> youngest = users.AsQueryable().Min(u =&gt; u.Age);
<span class="keyword" data-v-47ed9cda="">var</span> oldest = users.AsQueryable().Max(u =&gt; u.Age);
<span class="keyword" data-v-47ed9cda="">var</span> avgAge = users.AsQueryable().Average(u =&gt; u.Age);</code></pre></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">GroupBy</h2><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="keyword" data-v-47ed9cda="">var</span> byAge = users.AsQueryable()
    .GroupBy(u =&gt; u.Age)
    .Select(g =&gt; <span class="keyword" data-v-47ed9cda="">new</span>
    {
        Age = g.Key,
        Count = g.Count(),
        Names = g.Select(u =&gt; u.Name).ToList()
    })
    .AsEnumerable();</code></pre></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Index Optimization</h2><p data-v-47ed9cda="">BLite automatically uses B-Tree indexes when available:</p><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="comment" data-v-47ed9cda="">// Create an index on Age</span>
users.EnsureIndex(u =&gt; u.Age);

<span class="comment" data-v-47ed9cda="">// This query now uses the index</span>
<span class="keyword" data-v-47ed9cda="">var</span> results = users.AsQueryable()
    .Where(u =&gt; u.Age &gt; <span class="number" data-v-47ed9cda="">30</span>) <span class="comment" data-v-47ed9cda="">// â† Index hit!</span>
    .AsEnumerable();

<span class="comment" data-v-47ed9cda="">// Enum properties can also be indexed (v1.7.0)</span>
orders.EnsureIndex(o =&gt; o.Status);
<span class="keyword" data-v-47ed9cda="">var</span> shipped = orders.AsQueryable()
    .Where(o =&gt; o.Status == OrderStatus.Shipped)
    .AsEnumerable();</code></pre><div class="info-box" data-v-47ed9cda=""><strong data-v-47ed9cda="">ğŸ’¡ Tip:</strong> Use <code data-v-47ed9cda="">.Explain()</code> to see query execution plans and verify index usage. Enum index keys are stored as their underlying integer value (<code data-v-47ed9cda="">int</code>, <code data-v-47ed9cda="">byte</code>, <code data-v-47ed9cda="">long</code>) â€” ordering and range queries work correctly.</div></section><section data-v-47ed9cda=""><h2 data-v-47ed9cda="">Advanced Examples</h2><h3 data-v-47ed9cda="">Complex Filter</h3><pre data-v-47ed9cda=""><code data-v-47ed9cda=""><span class="keyword" data-v-47ed9cda="">var</span> results = users.AsQueryable()
    .Where(u =&gt; 
        u.Age &gt;= <span class="number" data-v-47ed9cda="">25</span> &amp;&amp; 
        u.Age &lt;= <span class="number" data-v-47ed9cda="">50</span> &amp;&amp; 
        u.Name.StartsWith(<span class="string" data-v-47ed9cda="">"A"</span>) &amp;&amp;
        u.Email.Contains(<span class="string" data-v-47ed9cda="">"@company.com"</span>)
    )
    .OrderBy(u =&gt; u.Age)
    .ThenBy(u =&gt; u.Name)
    .Take(<span class="number" data-v-47ed9cda="">100</span>)
    .AsEnumerable();</code></pre></section></div></div></main></div></main><footer class="main-footer" data-v-fb6af8ee=""><div class="container footer-inner" data-v-fb6af8ee=""><div class="footer-col" data-v-fb6af8ee=""><p data-v-fb6af8ee="">Â© 2026 BLite Project. Open Source (MIT).</p><p class="tagline" data-v-fb6af8ee="">"Sky is Blite, no Clouds today."</p></div><div class="footer-col footer-downloads" data-v-fb6af8ee=""><p class="footer-dl-title" data-v-fb6af8ee="">â¬‡ Download BLite Studio v1.9.0</p><div class="footer-dl-links" data-v-fb6af8ee=""><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-win-x64.msi" data-v-fb6af8ee="">ğŸªŸ Windows MSI</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-win-x64-portable.zip" data-v-fb6af8ee="">ğŸªŸ Windows Portable</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/blite-studio_1.9.0_amd64.deb" data-v-fb6af8ee="">ğŸ§ Linux .deb</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-linux-x64.tar.gz" data-v-fb6af8ee="">ğŸ§ Linux tar.gz</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-osx-arm64.dmg" data-v-fb6af8ee="">ğŸ macOS Apple Silicon</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-osx-x64.dmg" data-v-fb6af8ee="">ğŸ macOS Intel</a></div></div></div></footer></div></div></body></html>