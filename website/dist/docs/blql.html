<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><!-- Primary meta --><title>BLQL ‚Äî BLite Query Language</title><meta name="description" content="BLQL is the MQL-inspired query language for DynamicCollection. Filter, sort, project, and page BsonDocument results using JSON strings or the fluent C# API. Built-in injection and ReDoS protection."><meta name="keywords" content="embedded NoSQL database for .NET, embedded NoSQL .NET, NoSQL database C#, embedded document database .NET, BSON document store, embedded database .NET, zero allocation .NET database, ACID transactions .NET, LiteDB alternative, local-first database .NET, .NET 10 database, NoSQL NuGet package, embedded database NuGet, document store C#, BLite"><meta name="author" content="BLite Project"><meta name="robots" content="index, follow"><meta name="theme-color" content="#e74c3c"><link rel="canonical" href="https://blitedb.com/docs/blql"><!-- Favicon --><link rel="icon" type="image/svg+xml" href="/icon.svg"><!-- Open Graph --><meta property="og:type" content="website"><meta property="og:site_name" content="BLite"><meta property="og:url" content="https://blitedb.com/docs/blql"><meta property="og:title" content="BLQL ‚Äî BLite Query Language"><meta property="og:description" content="BLQL is the MQL-inspired query language for DynamicCollection. Filter, sort, project, and page BsonDocument results using JSON strings or the fluent C# API. Built-in injection and ReDoS protection."><meta property="og:image" content="https://blitedb.com/og-image.png"><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="BLQL ‚Äî BLite Query Language"><meta name="twitter:description" content="BLQL is the MQL-inspired query language for DynamicCollection. Filter, sort, project, and page BsonDocument results using JSON strings or the fluent C# API. Built-in injection and ReDoS protection."><meta name="twitter:image" content="https://blitedb.com/og-image.png"><!-- JSON-LD Structured Data --><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "BLite",
    "alternateName": "BLite Embedded NoSQL Database",
    "url": "https://blitedb.com",
    "description": "BLite is the high-performance embedded NoSQL database for .NET. Zero-allocation BSON document store with ACID transactions, Change Data Capture streams, R-Tree spatial indexing, and compile-time source generators. No cloud, no server ‚Äî install via NuGet.",
    "applicationCategory": "DeveloperApplication",
    "applicationSubCategory": "Embedded NoSQL Database",
    "operatingSystem": "Windows, Linux, macOS",
    "programmingLanguage": "C#",
    "softwareVersion": "1.9.0",
    "license": "https://opensource.org/licenses/MIT",
    "codeRepository": "https://github.com/EntglDb/BLite",
    "downloadUrl": "https://www.nuget.org/packages/BLite",
    "featureList": [
      "Embedded NoSQL document store for .NET",
      "Zero-allocation BSON serialization",
      "ACID transactions with Write-Ahead Logging",
      "Change Data Capture (CDC) with 1000+ subscribers",
      "R-Tree spatial and vector indexing",
      "Compile-time source generators ‚Äî no reflection",
      "LINQ IQueryable provider",
      "Schema-less DynamicCollection API",
      "BLQL query language",
      "Local-first, no cloud required"
    ],
    "keywords": "embedded NoSQL database for .NET, embedded database .NET, BSON document store, NoSQL C#, ACID .NET, zero allocation, LiteDB alternative",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }</script><!-- FAQ Structured Data --><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is BLite?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "BLite is a high-performance embedded NoSQL database for .NET. It stores BSON documents locally inside your application with zero allocations, ACID transactions, and no external server or cloud dependency."
        }
      },
      {
        "@type": "Question",
        "name": "How do I install BLite in a .NET project?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Run 'dotnet add package BLite' in your .NET project. BLite targets .NET 10 and is available on NuGet."
        }
      },
      {
        "@type": "Question",
        "name": "Is BLite a good alternative to LiteDB for .NET?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. BLite offers significantly higher throughput and zero heap allocations compared to LiteDB, plus modern features like Change Data Capture, R-Tree spatial indexing, and compile-time source generators."
        }
      },
      {
        "@type": "Question",
        "name": "Does BLite require a cloud service or external server?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No. BLite is a fully embedded database that runs entirely inside your .NET process. There is no external server, no cloud service, and no network dependency."
        }
      }
    ]
  }</script><script type="module" async="" crossorigin="" src="/assets/app-DFG70TwV.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-DddOY63n.css"></head><body><div id="app" data-server-rendered="true"><div class="app-layout" data-v-fb6af8ee=""><header class="main-header glass-panel" data-v-fb6af8ee=""><div class="container header-content" data-v-fb6af8ee=""><a href="/" class="logo-link" data-v-fb6af8ee=""><img src="/icon.svg" alt="BLite" class="logo-img" data-v-fb6af8ee=""><div class="logo-text" data-v-fb6af8ee="">BLite<span class="dot" data-v-fb6af8ee="">.</span></div></a><nav data-v-fb6af8ee=""><a href="/" class="" data-v-fb6af8ee="">Home</a><a href="/docs" class="router-link-active" data-v-fb6af8ee="">Docs</a><a href="/studio" class="" data-v-fb6af8ee="">Studio</a><a href="/comparisons" class="" data-v-fb6af8ee="">Comparisons</a><a href="https://github.com/EntglDb/BLite" target="_blank" class="github-link" data-v-fb6af8ee="">GitHub ‚Üó</a></nav></div></header><main data-v-fb6af8ee=""><div class="docs-layout" data-v-fb6af8ee="" data-v-0b425e15=""><aside class="docs-sidebar" data-v-0b425e15=""><div class="sidebar-header" data-v-0b425e15=""><h2 data-v-0b425e15="">Documentation</h2></div><nav class="sidebar-nav" data-v-0b425e15=""><!--[--><a href="/docs/getting-started" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üöÄ</span><span class="nav-label" data-v-0b425e15="">Getting Started</span></a><a href="/docs/installation" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üì¶</span><span class="nav-label" data-v-0b425e15="">Installation</span></a><a href="/docs/transactions" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîÑ</span><span class="nav-label" data-v-0b425e15="">Transactions &amp; Async</span></a><a href="/docs/crud" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">‚úèÔ∏è</span><span class="nav-label" data-v-0b425e15="">CRUD Operations</span></a><a href="/docs/querying" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîç</span><span class="nav-label" data-v-0b425e15="">Querying</span></a><a href="/docs/generators" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ü§ñ</span><span class="nav-label" data-v-0b425e15="">Source Generators</span></a><a href="/docs/cdc" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üì°</span><span class="nav-label" data-v-0b425e15="">Change Data Capture</span></a><a href="/docs/spatial" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üåç</span><span class="nav-label" data-v-0b425e15="">Spatial Indexing</span></a><a href="/docs/architecture" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üèóÔ∏è</span><span class="nav-label" data-v-0b425e15="">Architecture</span></a><a href="/docs/converters" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üÜî</span><span class="nav-label" data-v-0b425e15="">Custom ID Converters</span></a><a href="/docs/benchmarks" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">‚ö°</span><span class="nav-label" data-v-0b425e15="">Benchmarks</span></a><a href="/docs/dynamic-api" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîå</span><span class="nav-label" data-v-0b425e15="">Schema-less API</span></a><a aria-current="page" href="/docs/blql" class="router-link-active router-link-exact-active active nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîé</span><span class="nav-label" data-v-0b425e15="">BLQL</span></a><!--]--></nav></aside><main class="docs-content" data-v-0b425e15=""><div class="container" data-v-0b425e15=""><div class="doc-page" data-v-0b425e15="" data-v-365019cb=""><h1 data-v-365019cb="">üîé <span class="title-gradient" data-v-365019cb="">BLQL ‚Äî BLite Query Language</span></h1><p class="lead" data-v-365019cb="">BLQL is the <strong data-v-365019cb="">BLite Query Language</strong> for schema-less scenarios. Inspired by MQL (MongoDB Query Language), it lets you filter, sort, project, and page <code data-v-365019cb="">BsonDocument</code> results from a <code data-v-365019cb="">DynamicCollection</code> using either a <strong data-v-365019cb="">JSON string</strong> or a <strong data-v-365019cb="">fluent C# API</strong> ‚Äî no compile-time types required.</p><div class="info-box" data-v-365019cb=""><div class="info-header" data-v-365019cb="">üìå BLQL vs LINQ</div><table data-v-365019cb=""><thead data-v-365019cb=""><tr data-v-365019cb=""><th data-v-365019cb=""></th><th data-v-365019cb="">LINQ (<code data-v-365019cb="">DocumentDbContext</code>)</th><th data-v-365019cb="">BLQL (<code data-v-365019cb="">DynamicCollection</code>)</th></tr></thead><tbody data-v-365019cb=""><tr data-v-365019cb=""><td data-v-365019cb=""><strong data-v-365019cb="">Entry point</strong></td><td data-v-365019cb=""><code data-v-365019cb="">.AsQueryable()</code></td><td data-v-365019cb=""><code data-v-365019cb="">.Query()</code> / <code data-v-365019cb="">.Query(filterJson)</code></td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><strong data-v-365019cb="">Type safety</strong></td><td data-v-365019cb="">‚úÖ Compile-time</td><td data-v-365019cb="">Runtime <code data-v-365019cb="">BsonDocument</code></td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><strong data-v-365019cb="">JSON string queries</strong></td><td data-v-365019cb="">‚Äî</td><td data-v-365019cb="">‚úÖ MQL-style</td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><strong data-v-365019cb="">Fluent C# filter API</strong></td><td data-v-365019cb="">Lambda expressions</td><td data-v-365019cb=""><code data-v-365019cb="">BlqlFilter.*</code> factories</td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><strong data-v-365019cb="">Projection</strong></td><td data-v-365019cb="">LINQ <code data-v-365019cb="">Select</code></td><td data-v-365019cb=""><code data-v-365019cb="">BlqlProjection.Include/Exclude</code></td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><strong data-v-365019cb="">Injection protection</strong></td><td data-v-365019cb="">‚úÖ Type-safe</td><td data-v-365019cb="">‚úÖ Unknown <code data-v-365019cb="">$</code> operators rejected</td></tr></tbody></table></div><section data-v-365019cb=""><h2 data-v-365019cb="">Getting Started</h2><p data-v-365019cb="">Import the namespace and call <code data-v-365019cb="">.Query()</code> on any <code data-v-365019cb="">DynamicCollection</code>:</p><pre data-v-365019cb=""><code data-v-365019cb=""><span class="keyword" data-v-365019cb="">using</span> BLite.Core.Query.Blql;

<span class="keyword" data-v-365019cb="">using var</span> engine = <span class="keyword" data-v-365019cb="">new</span> <span class="type" data-v-365019cb="">BLiteEngine</span>(<span class="string" data-v-365019cb="">"data.db"</span>);
<span class="keyword" data-v-365019cb="">var</span> col = engine.GetOrCreateCollection(<span class="string" data-v-365019cb="">"users"</span>);

<span class="comment" data-v-365019cb="">// ‚îÄ‚îÄ Option A: JSON string (MQL-style) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span class="keyword" data-v-365019cb="">var</span> docs = col.Query(<span class="string" data-v-365019cb="">"""{ "status": "active", "age": { "$gt": 18 } }"""</span>)
              .Sort(<span class="string" data-v-365019cb="">"""{ "name": 1 }"""</span>)
              .Skip(<span class="number" data-v-365019cb="">0</span>).Take(<span class="number" data-v-365019cb="">20</span>)
              .ToList();

<span class="comment" data-v-365019cb="">// ‚îÄ‚îÄ Option B: Fluent C# API ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span class="keyword" data-v-365019cb="">var</span> docs = col.Query()
              .Filter(<span class="type" data-v-365019cb="">BlqlFilter</span>.And(
                  <span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"active"</span>),
                  <span class="type" data-v-365019cb="">BlqlFilter</span>.Gt(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">18</span>)))
              .OrderBy(<span class="string" data-v-365019cb="">"name"</span>)
              .Project(<span class="type" data-v-365019cb="">BlqlProjection</span>.Include(<span class="string" data-v-365019cb="">"name"</span>, <span class="string" data-v-365019cb="">"email"</span>))
              .ToList();</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Filter Operators</h2><h3 data-v-365019cb="">Comparison</h3><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// JSON                               C# equivalent</span>
{ <span class="string" data-v-365019cb="">"age"</span>: <span class="number" data-v-365019cb="">30</span> }                         <span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">30</span>)
{ <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$ne"</span>:  <span class="number" data-v-365019cb="">30</span> } }            <span class="type" data-v-365019cb="">BlqlFilter</span>.Ne(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">30</span>)
{ <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$gt"</span>:  <span class="number" data-v-365019cb="">18</span> } }            <span class="type" data-v-365019cb="">BlqlFilter</span>.Gt(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">18</span>)
{ <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$gte"</span>: <span class="number" data-v-365019cb="">18</span> } }            <span class="type" data-v-365019cb="">BlqlFilter</span>.Gte(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">18</span>)
{ <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$lt"</span>:  <span class="number" data-v-365019cb="">65</span> } }            <span class="type" data-v-365019cb="">BlqlFilter</span>.Lt(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">65</span>)
{ <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$lte"</span>: <span class="number" data-v-365019cb="">65</span> } }            <span class="type" data-v-365019cb="">BlqlFilter</span>.Lte(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">65</span>)

<span class="comment" data-v-365019cb="">// Range: combine $gte + $lte in one object</span>
{ <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$gte"</span>: <span class="number" data-v-365019cb="">18</span>, <span class="string" data-v-365019cb="">"$lte"</span>: <span class="number" data-v-365019cb="">65</span> } }  <span class="type" data-v-365019cb="">BlqlFilter</span>.Between(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">18</span>, <span class="number" data-v-365019cb="">65</span>)</code></pre><h3 data-v-365019cb="">Set Operators</h3><pre data-v-365019cb=""><code data-v-365019cb="">{ <span class="string" data-v-365019cb="">"role"</span>: { <span class="string" data-v-365019cb="">"$in"</span>:  [<span class="string" data-v-365019cb="">"admin"</span>, <span class="string" data-v-365019cb="">"mod"</span>] } }   <span class="type" data-v-365019cb="">BlqlFilter</span>.In(<span class="string" data-v-365019cb="">"role"</span>, <span class="string" data-v-365019cb="">"admin"</span>, <span class="string" data-v-365019cb="">"mod"</span>)
{ <span class="string" data-v-365019cb="">"role"</span>: { <span class="string" data-v-365019cb="">"$nin"</span>: [<span class="string" data-v-365019cb="">"banned"</span>] } }        <span class="type" data-v-365019cb="">BlqlFilter</span>.Nin(<span class="string" data-v-365019cb="">"role"</span>, <span class="string" data-v-365019cb="">"banned"</span>)</code></pre><h3 data-v-365019cb="">Field Tests</h3><pre data-v-365019cb=""><code data-v-365019cb="">{ <span class="string" data-v-365019cb="">"email"</span>: { <span class="string" data-v-365019cb="">"$exists"</span>: <span class="literal" data-v-365019cb="">true</span>  } }       <span class="type" data-v-365019cb="">BlqlFilter</span>.Exists(<span class="string" data-v-365019cb="">"email"</span>)
{ <span class="string" data-v-365019cb="">"email"</span>: { <span class="string" data-v-365019cb="">"$exists"</span>: <span class="literal" data-v-365019cb="">false</span> } }       <span class="type" data-v-365019cb="">BlqlFilter</span>.Exists(<span class="string" data-v-365019cb="">"email"</span>, exists: <span class="literal" data-v-365019cb="">false</span>)
{ <span class="string" data-v-365019cb="">"email"</span>: <span class="literal" data-v-365019cb="">null</span> }                        <span class="type" data-v-365019cb="">BlqlFilter</span>.IsNull(<span class="string" data-v-365019cb="">"email"</span>)
{ <span class="string" data-v-365019cb="">"age"</span>:   { <span class="string" data-v-365019cb="">"$type"</span>: <span class="number" data-v-365019cb="">16</span> } }             <span class="type" data-v-365019cb="">BlqlFilter</span>.Type(<span class="string" data-v-365019cb="">"age"</span>, <span class="type" data-v-365019cb="">BsonType</span>.Int32)</code></pre><h3 data-v-365019cb="">Regex</h3><pre data-v-365019cb=""><code data-v-365019cb="">{ <span class="string" data-v-365019cb="">"name"</span>: { <span class="string" data-v-365019cb="">"$regex"</span>: <span class="string" data-v-365019cb="">"^Al"</span> } }         <span class="type" data-v-365019cb="">BlqlFilter</span>.Regex(<span class="string" data-v-365019cb="">"name"</span>, <span class="string" data-v-365019cb="">"^Al"</span>)</code></pre><div class="tip-box" data-v-365019cb=""><strong data-v-365019cb="">üõ°Ô∏è ReDoS-safe</strong> ‚Äî the JSON parser always compiles regex patterns with <code data-v-365019cb="">RegexOptions.NonBacktracking</code>, eliminating catastrophic backtracking.</div><h3 data-v-365019cb="">Logical Operators</h3><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// $and</span>
{ <span class="string" data-v-365019cb="">"$and"</span>: [ { <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$gt"</span>: <span class="number" data-v-365019cb="">18</span> } }, { <span class="string" data-v-365019cb="">"status"</span>: <span class="string" data-v-365019cb="">"active"</span> } ] }
<span class="type" data-v-365019cb="">BlqlFilter</span>.And(<span class="type" data-v-365019cb="">BlqlFilter</span>.Gt(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">18</span>), <span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"active"</span>))

<span class="comment" data-v-365019cb="">// $or</span>
{ <span class="string" data-v-365019cb="">"$or"</span>: [ { <span class="string" data-v-365019cb="">"role"</span>: <span class="string" data-v-365019cb="">"admin"</span> }, { <span class="string" data-v-365019cb="">"role"</span>: <span class="string" data-v-365019cb="">"superadmin"</span> } ] }
<span class="type" data-v-365019cb="">BlqlFilter</span>.Or(<span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"role"</span>, <span class="string" data-v-365019cb="">"admin"</span>), <span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"role"</span>, <span class="string" data-v-365019cb="">"superadmin"</span>))

<span class="comment" data-v-365019cb="">// $nor ‚Äî negated OR</span>
{ <span class="string" data-v-365019cb="">"$nor"</span>: [ { <span class="string" data-v-365019cb="">"deleted"</span>: <span class="literal" data-v-365019cb="">true</span> } ] }
<span class="type" data-v-365019cb="">BlqlFilter</span>.Nor(<span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"deleted"</span>, <span class="literal" data-v-365019cb="">true</span>))

<span class="comment" data-v-365019cb="">// $not ‚Äî wraps any filter</span>
{ <span class="string" data-v-365019cb="">"$not"</span>: { <span class="string" data-v-365019cb="">"status"</span>: <span class="string" data-v-365019cb="">"banned"</span> } }
<span class="type" data-v-365019cb="">BlqlFilter</span>.Not(<span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"banned"</span>))

<span class="comment" data-v-365019cb="">// Implicit AND ‚Äî multiple top-level fields</span>
{ <span class="string" data-v-365019cb="">"status"</span>: <span class="string" data-v-365019cb="">"active"</span>, <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$gt"</span>: <span class="number" data-v-365019cb="">18</span> } }</code></pre><h3 data-v-365019cb="">Fluent Combinators</h3><p data-v-365019cb="">Combine filters programmatically after construction:</p><pre data-v-365019cb=""><code data-v-365019cb=""><span class="keyword" data-v-365019cb="">var</span> f = <span class="type" data-v-365019cb="">BlqlFilter</span>.Gt(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">18</span>)
               .AndAlso(<span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"active"</span>))
               .AndAlso(<span class="type" data-v-365019cb="">BlqlFilter</span>.Exists(<span class="string" data-v-365019cb="">"email"</span>));</code></pre><h3 data-v-365019cb="">String Operators</h3><p data-v-365019cb="">Ordinal string comparisons ‚Äî regex metacharacters are treated as literals, not patterns.</p><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// JSON                                        C# equivalent</span>
{ <span class="string" data-v-365019cb="">"name"</span>: { <span class="string" data-v-365019cb="">"$startsWith"</span>: <span class="string" data-v-365019cb="">"Al"</span> } }      <span class="type" data-v-365019cb="">BlqlFilter</span>.StartsWith(<span class="string" data-v-365019cb="">"name"</span>, <span class="string" data-v-365019cb="">"Al"</span>)
{ <span class="string" data-v-365019cb="">"email"</span>: { <span class="string" data-v-365019cb="">"$endsWith"</span>:   <span class="string" data-v-365019cb="">".com"</span> } }   <span class="type" data-v-365019cb="">BlqlFilter</span>.EndsWith(<span class="string" data-v-365019cb="">"email"</span>, <span class="string" data-v-365019cb="">".com"</span>)
{ <span class="string" data-v-365019cb="">"bio"</span>:   { <span class="string" data-v-365019cb="">"$contains"</span>:  <span class="string" data-v-365019cb="">"BLite"</span> } }  <span class="type" data-v-365019cb="">BlqlFilter</span>.Contains(<span class="string" data-v-365019cb="">"bio"</span>, <span class="string" data-v-365019cb="">"BLite"</span>)</code></pre><div class="tip-box" data-v-365019cb=""><strong data-v-365019cb="">üîí No regex injection</strong> ‚Äî <code data-v-365019cb="">$startsWith</code>, <code data-v-365019cb="">$endsWith</code>, and <code data-v-365019cb="">$contains</code> use <code data-v-365019cb="">StringComparison.Ordinal</code> under the hood. A pattern like <code data-v-365019cb="">"(a+)+"</code> is matched literally, not as a regex.</div><h3 data-v-365019cb="">Array Operators</h3><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// $elemMatch ‚Äî any element in the array satisfies the condition</span>

<span class="comment" data-v-365019cb="">// Scalar array: scores contains at least one value between 80 and 90</span>
{ <span class="string" data-v-365019cb="">"scores"</span>: { <span class="string" data-v-365019cb="">"$elemMatch"</span>: { <span class="string" data-v-365019cb="">"$gte"</span>: <span class="number" data-v-365019cb="">80</span>, <span class="string" data-v-365019cb="">"$lt"</span>: <span class="number" data-v-365019cb="">90</span> } } }
<span class="type" data-v-365019cb="">BlqlFilter</span>.ElemMatch(<span class="string" data-v-365019cb="">"scores"</span>,
    <span class="type" data-v-365019cb="">BlqlFilter</span>.And(<span class="type" data-v-365019cb="">BlqlFilter</span>.Gte(<span class="string" data-v-365019cb="">"scores"</span>, <span class="number" data-v-365019cb="">80</span>), <span class="type" data-v-365019cb="">BlqlFilter</span>.Lt(<span class="string" data-v-365019cb="">"scores"</span>, <span class="number" data-v-365019cb="">90</span>)))

<span class="comment" data-v-365019cb="">// Document array: at least one embedded doc has score &gt;= 90</span>
{ <span class="string" data-v-365019cb="">"results"</span>: { <span class="string" data-v-365019cb="">"$elemMatch"</span>: { <span class="string" data-v-365019cb="">"score"</span>: { <span class="string" data-v-365019cb="">"$gte"</span>: <span class="number" data-v-365019cb="">90</span> } } } }

<span class="comment" data-v-365019cb="">// $size ‚Äî array has exactly N elements</span>
{ <span class="string" data-v-365019cb="">"tags"</span>: { <span class="string" data-v-365019cb="">"$size"</span>: <span class="number" data-v-365019cb="">3</span> } }      <span class="type" data-v-365019cb="">BlqlFilter</span>.Size(<span class="string" data-v-365019cb="">"tags"</span>, <span class="number" data-v-365019cb="">3</span>)

<span class="comment" data-v-365019cb="">// $all ‚Äî array contains ALL specified values</span>
{ <span class="string" data-v-365019cb="">"tags"</span>: { <span class="string" data-v-365019cb="">"$all"</span>: [<span class="string" data-v-365019cb="">"alpha"</span>, <span class="string" data-v-365019cb="">"beta"</span>] } }   <span class="type" data-v-365019cb="">BlqlFilter</span>.All(<span class="string" data-v-365019cb="">"tags"</span>, <span class="string" data-v-365019cb="">"alpha"</span>, <span class="string" data-v-365019cb="">"beta"</span>)</code></pre><h3 data-v-365019cb="">Arithmetic</h3><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// $mod ‚Äî field % divisor == remainder</span>
{ <span class="string" data-v-365019cb="">"qty"</span>: { <span class="string" data-v-365019cb="">"$mod"</span>: [<span class="number" data-v-365019cb="">3</span>, <span class="number" data-v-365019cb="">0</span>] } }    <span class="type" data-v-365019cb="">BlqlFilter</span>.Mod(<span class="string" data-v-365019cb="">"qty"</span>, divisor: <span class="number" data-v-365019cb="">3</span>, remainder: <span class="number" data-v-365019cb="">0</span>)</code></pre><div class="tip-box" data-v-365019cb=""><strong data-v-365019cb="">üõ°Ô∏è Zero-divisor protection</strong> ‚Äî passing divisor <code data-v-365019cb="">0</code> throws <code data-v-365019cb="">FormatException</code> at parse time, never <code data-v-365019cb="">DivideByZeroException</code> at evaluation.</div><h3 data-v-365019cb="">Field-level <code data-v-365019cb="">$not</code></h3><p data-v-365019cb="">Negate any field-level operator block directly on a field, without wrapping the whole filter:</p><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// Top-level $not ‚Äî negates a full sub-filter</span>
{ <span class="string" data-v-365019cb="">"$not"</span>: { <span class="string" data-v-365019cb="">"status"</span>: <span class="string" data-v-365019cb="">"banned"</span> } }
<span class="type" data-v-365019cb="">BlqlFilter</span>.Not(<span class="type" data-v-365019cb="">BlqlFilter</span>.Eq(<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"banned"</span>))

<span class="comment" data-v-365019cb="">// Field-level $not ‚Äî negate a specific operator block on one field</span>
{ <span class="string" data-v-365019cb="">"age"</span>: { <span class="string" data-v-365019cb="">"$not"</span>: { <span class="string" data-v-365019cb="">"$gt"</span>: <span class="number" data-v-365019cb="">65</span> } } }  <span class="type" data-v-365019cb="">BlqlFilter</span>.Not(<span class="type" data-v-365019cb="">BlqlFilter</span>.Gt(<span class="string" data-v-365019cb="">"age"</span>, <span class="number" data-v-365019cb="">65</span>))
{ <span class="string" data-v-365019cb="">"name"</span>: { <span class="string" data-v-365019cb="">"$not"</span>: { <span class="string" data-v-365019cb="">"$startsWith"</span>: <span class="string" data-v-365019cb="">"Bot"</span> } } }</code></pre><h3 data-v-365019cb="">Geospatial Operators</h3><p data-v-365019cb="">Require a field storing coordinate values (stored via <code data-v-365019cb="">[Column(TypeName="geopoint")]</code> or <code data-v-365019cb="">BsonValue.FromCoordinates</code>).</p><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// $geoWithin ‚Äî point inside a bounding box [[minLon,minLat],[maxLon,maxLat]]</span>
{
  <span class="string" data-v-365019cb="">"location"</span>: {
    <span class="string" data-v-365019cb="">"$geoWithin"</span>: { <span class="string" data-v-365019cb="">"$box"</span>: [[<span class="number" data-v-365019cb="">9.0</span>, <span class="number" data-v-365019cb="">45.0</span>], [<span class="number" data-v-365019cb="">10.0</span>, <span class="number" data-v-365019cb="">46.0</span>]] }
  }
}
<span class="type" data-v-365019cb="">BlqlFilter</span>.GeoWithin(<span class="string" data-v-365019cb="">"location"</span>, minLon: <span class="number" data-v-365019cb="">9.0</span>, minLat: <span class="number" data-v-365019cb="">45.0</span>, maxLon: <span class="number" data-v-365019cb="">10.0</span>, maxLat: <span class="number" data-v-365019cb="">46.0</span>)

<span class="comment" data-v-365019cb="">// $geoNear ‚Äî point within radius (km) using Haversine formula</span>
{
  <span class="string" data-v-365019cb="">"location"</span>: {
    <span class="string" data-v-365019cb="">"$geoNear"</span>: { <span class="string" data-v-365019cb="">"$center"</span>: [<span class="number" data-v-365019cb="">9.19</span>, <span class="number" data-v-365019cb="">45.46</span>], <span class="string" data-v-365019cb="">"$maxDistance"</span>: <span class="number" data-v-365019cb="">5.0</span> }
  }
}
<span class="type" data-v-365019cb="">BlqlFilter</span>.GeoNear(<span class="string" data-v-365019cb="">"location"</span>, lon: <span class="number" data-v-365019cb="">9.19</span>, lat: <span class="number" data-v-365019cb="">45.46</span>, maxDistanceKm: <span class="number" data-v-365019cb="">5.0</span>)</code></pre><div class="tip-box" data-v-365019cb="">Coordinates are stored as <code data-v-365019cb="">[longitude, latitude]</code> pairs ‚Äî same convention as GeoJSON. Distance calculation uses the <strong data-v-365019cb="">Haversine formula</strong> for great-circle distance.</div><h3 data-v-365019cb="">Vector Search</h3><p data-v-365019cb=""><code data-v-365019cb="">$nearVector</code> triggers an <strong data-v-365019cb="">HNSW ANN index search</strong> on a pre-built vector index. The <code data-v-365019cb="">Matches()</code> method always returns <code data-v-365019cb="">true</code> ‚Äî actual ranking is performed by the query optimizer via the index. Use it together with <code data-v-365019cb="">.Take(k)</code>.</p><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// $nearVector ‚Äî retrieve the k nearest embeddings</span>
{
  <span class="string" data-v-365019cb="">"embedding"</span>: {
    <span class="string" data-v-365019cb="">"$nearVector"</span>: {
      <span class="string" data-v-365019cb="">"$vector"</span>: [<span class="number" data-v-365019cb="">0.1</span>, <span class="number" data-v-365019cb="">0.2</span>, <span class="number" data-v-365019cb="">0.9</span>, <span class="comment" data-v-365019cb="">/* ... */</span>],
      <span class="string" data-v-365019cb="">"$k"</span>:      <span class="number" data-v-365019cb="">10</span>,
      <span class="string" data-v-365019cb="">"$metric"</span>: <span class="string" data-v-365019cb="">"cosine"</span>   <span class="comment" data-v-365019cb="">// "cosine" | "euclidean" | "dotproduct" (default: "cosine")</span>
    }
  }
}

<span class="keyword" data-v-365019cb="">float</span>[] queryVec = GetEmbedding(<span class="string" data-v-365019cb="">"search text"</span>);
<span class="keyword" data-v-365019cb="">var</span> similar = col.Query(<span class="type" data-v-365019cb="">BlqlFilter</span>.NearVector(<span class="string" data-v-365019cb="">"embedding"</span>, queryVec, k: <span class="number" data-v-365019cb="">10</span>))
                 .Take(<span class="number" data-v-365019cb="">10</span>)
                 .ToList();</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Sort</h2><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// Single field ‚Äî ascending</span>
col.Query(filter).OrderBy(<span class="string" data-v-365019cb="">"name"</span>).ToList();

<span class="comment" data-v-365019cb="">// Single field ‚Äî descending</span>
col.Query(filter).OrderByDescending(<span class="string" data-v-365019cb="">"createdAt"</span>).ToList();

<span class="comment" data-v-365019cb="">// Multi-key JSON sort (1 = asc, -1 = desc)</span>
col.Query(filter).Sort(<span class="string" data-v-365019cb="">"""{ "lastName": 1, "age": -1 }"""</span>).ToList();

<span class="comment" data-v-365019cb="">// Programmatic multi-key</span>
col.Query(filter)
   .Sort(<span class="type" data-v-365019cb="">BlqlSort</span>.By(<span class="string" data-v-365019cb="">"lastName"</span>, <span class="type" data-v-365019cb="">SortDirection</span>.Ascending)
                .ThenBy(<span class="string" data-v-365019cb="">"age"</span>,       <span class="type" data-v-365019cb="">SortDirection</span>.Descending))
   .ToList();</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Projection</h2><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// Include only specific fields</span>
col.Query(filter)
   .Project(<span class="type" data-v-365019cb="">BlqlProjection</span>.Include(<span class="string" data-v-365019cb="">"name"</span>, <span class="string" data-v-365019cb="">"email"</span>, <span class="string" data-v-365019cb="">"createdAt"</span>))
   .ToList();

<span class="comment" data-v-365019cb="">// Exclude specific fields (return everything else)</span>
col.Query(filter)
   .Project(<span class="type" data-v-365019cb="">BlqlProjection</span>.Exclude(<span class="string" data-v-365019cb="">"password"</span>, <span class="string" data-v-365019cb="">"__internal"</span>))
   .ToList();

<span class="comment" data-v-365019cb="">// No projection ‚Äî returns whole document (default)</span>
col.Query(filter).ToList();</code></pre><div class="tip-box" data-v-365019cb="">Field projections rebuild the <code data-v-365019cb="">BsonDocument</code> in a single pass using the engine's shared key map, so <strong data-v-365019cb="">field IDs are preserved exactly</strong> ‚Äî no re-registration needed.</div></section><section data-v-365019cb=""><h2 data-v-365019cb="">Paging</h2><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// Offset-based paging</span>
<span class="keyword" data-v-365019cb="">int</span> pageSize = <span class="number" data-v-365019cb="">20</span>;
<span class="keyword" data-v-365019cb="">int</span> pageNo   = <span class="number" data-v-365019cb="">3</span>;   <span class="comment" data-v-365019cb="">// 1-based</span>

<span class="keyword" data-v-365019cb="">var</span> page = col.Query(filter)
              .OrderBy(<span class="string" data-v-365019cb="">"createdAt"</span>)
              .Skip((pageNo - <span class="number" data-v-365019cb="">1</span>) * pageSize)
              .Take(pageSize)     <span class="comment" data-v-365019cb="">// alias: .Limit(pageSize)</span>
              .ToList();</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Terminal Methods</h2><table data-v-365019cb=""><thead data-v-365019cb=""><tr data-v-365019cb=""><th data-v-365019cb="">Method</th><th data-v-365019cb="">Returns</th><th data-v-365019cb="">Description</th></tr></thead><tbody data-v-365019cb=""><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">ToList()</code></td><td data-v-365019cb=""><code data-v-365019cb="">List&lt;BsonDocument&gt;</code></td><td data-v-365019cb="">Materialise all results</td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">AsEnumerable()</code></td><td data-v-365019cb=""><code data-v-365019cb="">IEnumerable&lt;BsonDocument&gt;</code></td><td data-v-365019cb="">Lazy streaming</td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">AsAsyncEnumerable(ct)</code></td><td data-v-365019cb=""><code data-v-365019cb="">IAsyncEnumerable&lt;BsonDocument&gt;</code></td><td data-v-365019cb="">Async streaming with cancellation</td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">Count()</code></td><td data-v-365019cb=""><code data-v-365019cb="">int</code></td><td data-v-365019cb="">Count matching documents (ignores skip/take)</td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">FirstOrDefault()</code></td><td data-v-365019cb=""><code data-v-365019cb="">BsonDocument?</code></td><td data-v-365019cb="">First match or <code data-v-365019cb="">null</code></td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">First()</code></td><td data-v-365019cb=""><code data-v-365019cb="">BsonDocument</code></td><td data-v-365019cb="">First match or throws <code data-v-365019cb="">InvalidOperationException</code></td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">Any()</code></td><td data-v-365019cb=""><code data-v-365019cb="">bool</code></td><td data-v-365019cb="">Short-circuits on first match</td></tr><tr data-v-365019cb=""><td data-v-365019cb=""><code data-v-365019cb="">None()</code></td><td data-v-365019cb=""><code data-v-365019cb="">bool</code></td><td data-v-365019cb="">True if no document matches</td></tr></tbody></table><h3 data-v-365019cb="">Async Streaming</h3><pre data-v-365019cb=""><code data-v-365019cb=""><span class="keyword" data-v-365019cb="">await foreach</span> (<span class="keyword" data-v-365019cb="">var</span> doc <span class="keyword" data-v-365019cb="">in</span> col.Query(filter)
                                  .OrderBy(<span class="string" data-v-365019cb="">"createdAt"</span>)
                                  .AsAsyncEnumerable(ct))
{
    Process(doc);
}</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Creating Documents</h2><p data-v-365019cb="">Keys live at <strong data-v-365019cb="">database scope</strong> ‚Äî <code data-v-365019cb="">BLiteEngine.CreateDocument</code> registers field names in the engine's shared key map and builds the <code data-v-365019cb="">BsonDocument</code> in a single call:</p><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// Keys registered on the engine, not the collection</span>
<span class="keyword" data-v-365019cb="">var</span> doc = engine.CreateDocument(
    [<span class="string" data-v-365019cb="">"name"</span>, <span class="string" data-v-365019cb="">"age"</span>, <span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"role"</span>],
    b =&gt; b.AddString(<span class="string" data-v-365019cb="">"name"</span>,   <span class="string" data-v-365019cb="">"Alice"</span>)
          .AddInt32(<span class="string" data-v-365019cb="">"age"</span>,    <span class="number" data-v-365019cb="">30</span>)
          .AddString(<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"active"</span>)
          .AddString(<span class="string" data-v-365019cb="">"role"</span>,   <span class="string" data-v-365019cb="">"admin"</span>));

col.Insert(doc);
engine.Commit();</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Security ‚Äî Injection Protection</h2><p data-v-365019cb="">The JSON filter parser is hardened against <strong data-v-365019cb="">BLQL-injection attacks</strong> (analogous to NoSQL injection):</p><table data-v-365019cb=""><thead data-v-365019cb=""><tr data-v-365019cb=""><th data-v-365019cb="">Attack vector</th><th data-v-365019cb="">Protection</th></tr></thead><tbody data-v-365019cb=""><tr data-v-365019cb=""><td data-v-365019cb="">Unknown <code data-v-365019cb="">$</code> operators at root (<code data-v-365019cb="">$where</code>, <code data-v-365019cb="">$expr</code>, <code data-v-365019cb="">$function</code>, ‚Ä¶)</td><td data-v-365019cb="">‚Üí <code data-v-365019cb="">FormatException</code> ‚Äî never silently passed through</td></tr><tr data-v-365019cb=""><td data-v-365019cb="">Unknown field-level operators (<code data-v-365019cb="">$lookup</code>, <code data-v-365019cb="">$match</code>, ‚Ä¶)</td><td data-v-365019cb="">‚Üí <code data-v-365019cb="">FormatException</code></td></tr><tr data-v-365019cb=""><td data-v-365019cb="">Type confusion (<code data-v-365019cb="">"$exists": 1</code>, <code data-v-365019cb="">"$startsWith": 42</code>, <code data-v-365019cb="">"$mod": "bad"</code>, ‚Ä¶)</td><td data-v-365019cb="">‚Üí <code data-v-365019cb="">FormatException</code> ‚Äî every operator validates its <code data-v-365019cb="">JsonValueKind</code></td></tr><tr data-v-365019cb=""><td data-v-365019cb="">Division by zero via <code data-v-365019cb="">"$mod": [0, 0]</code></td><td data-v-365019cb="">‚Üí <code data-v-365019cb="">FormatException</code> at parse time ‚Äî never reaches evaluation</td></tr><tr data-v-365019cb=""><td data-v-365019cb="">ReDoS via <code data-v-365019cb="">$regex</code></td><td data-v-365019cb="">‚Üí <code data-v-365019cb="">RegexOptions.NonBacktracking</code> eliminates catastrophic backtracking</td></tr><tr data-v-365019cb=""><td data-v-365019cb="">Regex injection via <code data-v-365019cb="">$startsWith</code> / <code data-v-365019cb="">$endsWith</code> / <code data-v-365019cb="">$contains</code></td><td data-v-365019cb="">‚Üí Patterns are literals (<code data-v-365019cb="">StringComparison.Ordinal</code>) ‚Äî no regex engine involved</td></tr><tr data-v-365019cb=""><td data-v-365019cb="">Large <code data-v-365019cb="">$in</code> / <code data-v-365019cb="">$all</code> array DoS or oversized <code data-v-365019cb="">$nearVector</code> payload</td><td data-v-365019cb="">‚Üí Bounded by JSON parse budget; 252 security tests verify resilience</td></tr><tr data-v-365019cb=""><td data-v-365019cb="">Deeply nested DoS (JSON depth &gt; 64)</td><td data-v-365019cb="">‚Üí <code data-v-365019cb="">JsonReaderException</code> from <code data-v-365019cb="">System.Text.Json</code> before evaluation</td></tr></tbody></table><pre data-v-365019cb=""><code data-v-365019cb=""><span class="comment" data-v-365019cb="">// These all throw FormatException ‚Äî they are never evaluated</span>
<span class="type" data-v-365019cb="">BlqlFilterParser</span>.Parse(<span class="string" data-v-365019cb="">"""{ "$where":    "this.age &gt; 0" }"""</span>);
<span class="type" data-v-365019cb="">BlqlFilterParser</span>.Parse(<span class="string" data-v-365019cb="">"""{ "$function": { "body": "return true;" } }"""</span>);
<span class="type" data-v-365019cb="">BlqlFilterParser</span>.Parse(<span class="string" data-v-365019cb="">"""{ "$expr":    { "$gt": ["$age", 0] } }"""</span>);
<span class="type" data-v-365019cb="">BlqlFilterParser</span>.Parse(<span class="string" data-v-365019cb="">"""{ "name": { "$exists": 1 } }"""</span>);</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Full Example</h2><pre data-v-365019cb=""><code data-v-365019cb=""><span class="keyword" data-v-365019cb="">using</span> BLite.Core.Query.Blql;

<span class="keyword" data-v-365019cb="">using var</span> engine = <span class="keyword" data-v-365019cb="">new</span> <span class="type" data-v-365019cb="">BLiteEngine</span>(<span class="string" data-v-365019cb="">"shop.db"</span>);
<span class="keyword" data-v-365019cb="">var</span> orders = engine.GetOrCreateCollection(<span class="string" data-v-365019cb="">"orders"</span>);

<span class="comment" data-v-365019cb="">// Insert some documents</span>
<span class="keyword" data-v-365019cb="">foreach</span> (<span class="keyword" data-v-365019cb="">var</span> status <span class="keyword" data-v-365019cb="">in</span> <span class="keyword" data-v-365019cb="">new</span>[] { <span class="string" data-v-365019cb="">"pending"</span>, <span class="string" data-v-365019cb="">"shipped"</span>, <span class="string" data-v-365019cb="">"pending"</span> })
{
    <span class="keyword" data-v-365019cb="">var</span> doc = engine.CreateDocument(
        [<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"total"</span>, <span class="string" data-v-365019cb="">"currency"</span>],
        b =&gt; b.AddString(<span class="string" data-v-365019cb="">"status"</span>,   status)
              .AddDouble(<span class="string" data-v-365019cb="">"total"</span>,    <span class="number" data-v-365019cb="">199.99</span>)
              .AddString(<span class="string" data-v-365019cb="">"currency"</span>, <span class="string" data-v-365019cb="">"EUR"</span>));
    orders.Insert(doc);
}
engine.Commit();

<span class="comment" data-v-365019cb="">// Query with JSON string filter + sort + paging</span>
<span class="type" data-v-365019cb="">List</span>&lt;<span class="type" data-v-365019cb="">BsonDocument</span>&gt; page = orders
    .Query(<span class="string" data-v-365019cb="">"""{ "status": "pending", "total": { "$gte": 100 } }"""</span>)
    .Sort(<span class="string" data-v-365019cb="">"""{ "total": -1 }"""</span>)
    .Skip(<span class="number" data-v-365019cb="">0</span>).Take(<span class="number" data-v-365019cb="">10</span>)
    .Project(<span class="type" data-v-365019cb="">BlqlProjection</span>.Include(<span class="string" data-v-365019cb="">"status"</span>, <span class="string" data-v-365019cb="">"total"</span>))
    .ToList();

<span class="keyword" data-v-365019cb="">foreach</span> (<span class="keyword" data-v-365019cb="">var</span> doc <span class="keyword" data-v-365019cb="">in</span> page)
    Console.WriteLine(<span class="string" data-v-365019cb="">$"status={doc.GetString("status")} total={doc.GetDouble("total")}"</span>);

<span class="comment" data-v-365019cb="">// Aggregate</span>
<span class="keyword" data-v-365019cb="">int</span> pendingCount = orders.Query(<span class="string" data-v-365019cb="">"""{ "status": "pending" }"""</span>).Count();
Console.WriteLine(<span class="string" data-v-365019cb="">$"Pending orders: {pendingCount}"</span>);</code></pre></section><section data-v-365019cb=""><h2 data-v-365019cb="">Next Steps</h2><div class="next-links" data-v-365019cb=""><a href="/docs/dynamic-api" class="next-card" data-v-365019cb=""><span class="next-icon" data-v-365019cb="">üîå</span><div data-v-365019cb=""><h4 data-v-365019cb="">Schema-less API</h4><p data-v-365019cb="">Explore the full BLiteEngine and DynamicCollection surface</p></div></a><a href="/docs/querying" class="next-card" data-v-365019cb=""><span class="next-icon" data-v-365019cb="">üîç</span><div data-v-365019cb=""><h4 data-v-365019cb="">LINQ Querying</h4><p data-v-365019cb="">Type-safe queries with IQueryable for DocumentDbContext</p></div></a></div></section></div></div></main></div></main><footer class="main-footer" data-v-fb6af8ee=""><div class="container footer-inner" data-v-fb6af8ee=""><div class="footer-col" data-v-fb6af8ee=""><p data-v-fb6af8ee="">¬© 2026 BLite Project. Open Source (MIT).</p><p class="tagline" data-v-fb6af8ee="">"Sky is Blite, no Clouds today."</p></div><div class="footer-col footer-downloads" data-v-fb6af8ee=""><p class="footer-dl-title" data-v-fb6af8ee="">‚¨á Download BLite Studio v1.9.0</p><div class="footer-dl-links" data-v-fb6af8ee=""><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-win-x64.msi" data-v-fb6af8ee="">ü™ü Windows MSI</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-win-x64-portable.zip" data-v-fb6af8ee="">ü™ü Windows Portable</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/blite-studio_1.9.0_amd64.deb" data-v-fb6af8ee="">üêß Linux .deb</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-linux-x64.tar.gz" data-v-fb6af8ee="">üêß Linux tar.gz</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-osx-arm64.dmg" data-v-fb6af8ee="">üçé macOS Apple Silicon</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-osx-x64.dmg" data-v-fb6af8ee="">üçé macOS Intel</a></div></div></div></footer></div></div></body></html>