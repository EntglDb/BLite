<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><!-- Primary meta --><title>Schema-less API (BLiteEngine) ‚Äì BLite</title><meta name="description" content="Use BLiteEngine and DynamicCollection for schema-less BSON queries without compile-time types. Ideal for server mode, migrations, and scripting."><meta name="keywords" content="embedded NoSQL database for .NET, embedded NoSQL .NET, NoSQL database C#, embedded document database .NET, BSON document store, embedded database .NET, zero allocation .NET database, ACID transactions .NET, LiteDB alternative, local-first database .NET, .NET 10 database, NoSQL NuGet package, embedded database NuGet, document store C#, BLite"><meta name="author" content="BLite Project"><meta name="robots" content="index, follow"><meta name="theme-color" content="#e74c3c"><link rel="canonical" href="https://blitedb.com/docs/dynamic-api"><!-- Favicon --><link rel="icon" type="image/svg+xml" href="/icon.svg"><!-- Open Graph --><meta property="og:type" content="website"><meta property="og:site_name" content="BLite"><meta property="og:url" content="https://blitedb.com/docs/dynamic-api"><meta property="og:title" content="Schema-less API (BLiteEngine) ‚Äì BLite"><meta property="og:description" content="Use BLiteEngine and DynamicCollection for schema-less BSON queries without compile-time types. Ideal for server mode, migrations, and scripting."><meta property="og:image" content="https://blitedb.com/og-image.png"><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Schema-less API (BLiteEngine) ‚Äì BLite"><meta name="twitter:description" content="Use BLiteEngine and DynamicCollection for schema-less BSON queries without compile-time types. Ideal for server mode, migrations, and scripting."><meta name="twitter:image" content="https://blitedb.com/og-image.png"><!-- JSON-LD Structured Data --><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "BLite",
    "alternateName": "BLite Embedded NoSQL Database",
    "url": "https://blitedb.com",
    "description": "BLite is the high-performance embedded NoSQL database for .NET. Zero-allocation BSON document store with ACID transactions, Change Data Capture streams, R-Tree spatial indexing, and compile-time source generators. No cloud, no server ‚Äî install via NuGet.",
    "applicationCategory": "DeveloperApplication",
    "applicationSubCategory": "Embedded NoSQL Database",
    "operatingSystem": "Windows, Linux, macOS",
    "programmingLanguage": "C#",
    "softwareVersion": "1.9.0",
    "license": "https://opensource.org/licenses/MIT",
    "codeRepository": "https://github.com/EntglDb/BLite",
    "downloadUrl": "https://www.nuget.org/packages/BLite",
    "featureList": [
      "Embedded NoSQL document store for .NET",
      "Zero-allocation BSON serialization",
      "ACID transactions with Write-Ahead Logging",
      "Change Data Capture (CDC) with 1000+ subscribers",
      "R-Tree spatial and vector indexing",
      "Compile-time source generators ‚Äî no reflection",
      "LINQ IQueryable provider",
      "Schema-less DynamicCollection API",
      "BLQL query language",
      "Local-first, no cloud required"
    ],
    "keywords": "embedded NoSQL database for .NET, embedded database .NET, BSON document store, NoSQL C#, ACID .NET, zero allocation, LiteDB alternative",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }</script><!-- FAQ Structured Data --><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is BLite?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "BLite is a high-performance embedded NoSQL database for .NET. It stores BSON documents locally inside your application with zero allocations, ACID transactions, and no external server or cloud dependency."
        }
      },
      {
        "@type": "Question",
        "name": "How do I install BLite in a .NET project?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Run 'dotnet add package BLite' in your .NET project. BLite targets .NET 10 and is available on NuGet."
        }
      },
      {
        "@type": "Question",
        "name": "Is BLite a good alternative to LiteDB for .NET?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. BLite offers significantly higher throughput and zero heap allocations compared to LiteDB, plus modern features like Change Data Capture, R-Tree spatial indexing, and compile-time source generators."
        }
      },
      {
        "@type": "Question",
        "name": "Does BLite require a cloud service or external server?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "No. BLite is a fully embedded database that runs entirely inside your .NET process. There is no external server, no cloud service, and no network dependency."
        }
      }
    ]
  }</script><script type="module" async="" crossorigin="" src="/assets/app-BYPU4mKv.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-DyWslf59.css"></head><body><div id="app" data-server-rendered="true"><div class="app-layout" data-v-fb6af8ee=""><header class="main-header glass-panel" data-v-fb6af8ee=""><div class="container header-content" data-v-fb6af8ee=""><a href="/" class="logo-link" data-v-fb6af8ee=""><img src="/icon.svg" alt="BLite" class="logo-img" data-v-fb6af8ee=""><div class="logo-text" data-v-fb6af8ee="">BLite<span class="dot" data-v-fb6af8ee="">.</span></div></a><nav data-v-fb6af8ee=""><a href="/" class="" data-v-fb6af8ee="">Home</a><a href="/docs" class="router-link-active" data-v-fb6af8ee="">Docs</a><a href="/studio" class="" data-v-fb6af8ee="">Studio</a><a href="/comparisons" class="" data-v-fb6af8ee="">Comparisons</a><a href="https://github.com/EntglDb/BLite" target="_blank" class="github-link" data-v-fb6af8ee="">GitHub ‚Üó</a></nav></div></header><main data-v-fb6af8ee=""><div class="docs-layout" data-v-fb6af8ee="" data-v-0b425e15=""><aside class="docs-sidebar" data-v-0b425e15=""><div class="sidebar-header" data-v-0b425e15=""><h2 data-v-0b425e15="">Documentation</h2></div><nav class="sidebar-nav" data-v-0b425e15=""><!--[--><a href="/docs/getting-started" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üöÄ</span><span class="nav-label" data-v-0b425e15="">Getting Started</span></a><a href="/docs/installation" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üì¶</span><span class="nav-label" data-v-0b425e15="">Installation</span></a><a href="/docs/transactions" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîÑ</span><span class="nav-label" data-v-0b425e15="">Transactions &amp; Async</span></a><a href="/docs/crud" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">‚úèÔ∏è</span><span class="nav-label" data-v-0b425e15="">CRUD Operations</span></a><a href="/docs/querying" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîç</span><span class="nav-label" data-v-0b425e15="">Querying</span></a><a href="/docs/generators" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">ü§ñ</span><span class="nav-label" data-v-0b425e15="">Source Generators</span></a><a href="/docs/cdc" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üì°</span><span class="nav-label" data-v-0b425e15="">Change Data Capture</span></a><a href="/docs/spatial" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üåç</span><span class="nav-label" data-v-0b425e15="">Spatial Indexing</span></a><a href="/docs/architecture" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üèóÔ∏è</span><span class="nav-label" data-v-0b425e15="">Architecture</span></a><a href="/docs/converters" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üÜî</span><span class="nav-label" data-v-0b425e15="">Custom ID Converters</span></a><a href="/docs/benchmarks" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">‚ö°</span><span class="nav-label" data-v-0b425e15="">Benchmarks</span></a><a aria-current="page" href="/docs/dynamic-api" class="router-link-active router-link-exact-active active nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîå</span><span class="nav-label" data-v-0b425e15="">Schema-less API</span></a><a href="/docs/blql" class="nav-item" data-v-0b425e15=""><span class="nav-icon" data-v-0b425e15="">üîé</span><span class="nav-label" data-v-0b425e15="">BLQL</span></a><!--]--></nav></aside><main class="docs-content" data-v-0b425e15=""><div class="container" data-v-0b425e15=""><div class="doc-page" data-v-0b425e15="" data-v-e768e876=""><h1 data-v-e768e876="">üîå <span class="title-gradient" data-v-e768e876="">Schema-less API</span></h1><p class="lead" data-v-e768e876="">When compile-time types are unavailable ‚Äî server-side processing, migrations, scripting, or interop scenarios ‚Äî BLite exposes a fully schema-less BSON API via <code data-v-e768e876="">BLiteEngine</code> and <code data-v-e768e876="">DynamicCollection</code>. Both paths share the same kernel: StorageEngine, B-Tree, WAL, Vector and Spatial indexes.</p><div class="info-box" data-v-e768e876=""><div class="info-header" data-v-e768e876="">üìå Two Modes, One Kernel</div><table data-v-e768e876=""><thead data-v-e768e876=""><tr data-v-e768e876=""><th data-v-e768e876=""></th><th data-v-e768e876="">DocumentDbContext</th><th data-v-e768e876="">BLiteEngine</th></tr></thead><tbody data-v-e768e876=""><tr data-v-e768e876=""><td data-v-e768e876=""><strong data-v-e768e876="">Type safety</strong></td><td data-v-e768e876="">‚úÖ Compile-time</td><td data-v-e768e876="">Runtime <code data-v-e768e876="">BsonDocument</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><strong data-v-e768e876="">Source generators</strong></td><td data-v-e768e876="">‚úÖ Zero reflection</td><td data-v-e768e876="">‚Äî</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><strong data-v-e768e876="">LINQ IQueryable</strong></td><td data-v-e768e876="">‚úÖ Full</td><td data-v-e768e876="">‚Äî</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><strong data-v-e768e876="">Schema-less / dynamic</strong></td><td data-v-e768e876="">‚Äî</td><td data-v-e768e876="">‚úÖ</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><strong data-v-e768e876="">Server / scripting mode</strong></td><td data-v-e768e876="">‚Äî</td><td data-v-e768e876="">‚úÖ</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><strong data-v-e768e876="">Performance</strong></td><td data-v-e768e876="">‚úÖ Max (generated mappers)</td><td data-v-e768e876="">‚úÖ Near-identical</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><strong data-v-e768e876="">Shared storage file</strong></td><td data-v-e768e876="">‚úÖ</td><td data-v-e768e876="">‚úÖ</td></tr></tbody></table></div><section data-v-e768e876=""><h2 data-v-e768e876="">Entry Point</h2><pre data-v-e768e876=""><code data-v-e768e876=""><span class="keyword" data-v-e768e876="">using</span> <span class="keyword" data-v-e768e876="">var</span> engine = <span class="keyword" data-v-e768e876="">new</span> <span class="type" data-v-e768e876="">BLiteEngine</span>(<span class="string" data-v-e768e876="">"data.db"</span>);

<span class="comment" data-v-e768e876="">// Open or create a schema-less collection</span>
<span class="keyword" data-v-e768e876="">var</span> orders = engine.GetOrCreateCollection(<span class="string" data-v-e768e876="">"orders"</span>, <span class="type" data-v-e768e876="">BsonIdType</span>.ObjectId);

<span class="comment" data-v-e768e876="">// List all collections</span>
<span class="type" data-v-e768e876="">IReadOnlyList</span>&lt;<span class="keyword" data-v-e768e876="">string</span>&gt; names = engine.ListCollections();

<span class="comment" data-v-e768e876="">// Drop a collection</span>
engine.DropCollection(<span class="string" data-v-e768e876="">"orders"</span>);</code></pre></section><section data-v-e768e876=""><h2 data-v-e768e876="">Insert</h2><h3 data-v-e768e876="">Sync</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="comment" data-v-e768e876="">// Build a BsonDocument using the engine's field-name dictionary</span>
<span class="keyword" data-v-e768e876="">var</span> doc = orders.CreateDocument(
    [<span class="string" data-v-e768e876="">"status"</span>, <span class="string" data-v-e768e876="">"total"</span>, <span class="string" data-v-e768e876="">"currency"</span>],
    b =&gt; b
        .Set(<span class="string" data-v-e768e876="">"status"</span>,   <span class="string" data-v-e768e876="">"pending"</span>)
        .Set(<span class="string" data-v-e768e876="">"total"</span>,    <span class="number" data-v-e768e876="">199.99</span>)
        .Set(<span class="string" data-v-e768e876="">"currency"</span>, <span class="string" data-v-e768e876="">"EUR"</span>));

<span class="type" data-v-e768e876="">BsonId</span> id = orders.Insert(doc);</code></pre><h3 data-v-e768e876="">Async</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="comment" data-v-e768e876="">// Async single insert</span>
<span class="type" data-v-e768e876="">BsonId</span> id = <span class="keyword" data-v-e768e876="">await</span> orders.InsertAsync(doc, ct);

<span class="comment" data-v-e768e876="">// Bulk insert (single transaction)</span>
<span class="type" data-v-e768e876="">List</span>&lt;<span class="type" data-v-e768e876="">BsonId</span>&gt; ids = orders.InsertBulk([doc1, doc2, doc3]);
<span class="type" data-v-e768e876="">List</span>&lt;<span class="type" data-v-e768e876="">BsonId</span>&gt; ids = <span class="keyword" data-v-e768e876="">await</span> orders.InsertBulkAsync([doc1, doc2, doc3], ct);</code></pre></section><section data-v-e768e876=""><h2 data-v-e768e876="">Read</h2><h3 data-v-e768e876="">Primary-key lookup</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="type" data-v-e768e876="">BsonDocument</span>? doc = orders.FindById(id);
<span class="type" data-v-e768e876="">BsonDocument</span>? doc = <span class="keyword" data-v-e768e876="">await</span> orders.FindByIdAsync(id, ct);</code></pre><h3 data-v-e768e876="">Full collection scan</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="keyword" data-v-e768e876="">foreach</span> (<span class="keyword" data-v-e768e876="">var</span> d <span class="keyword" data-v-e768e876="">in</span> orders.FindAll()) { ... }

<span class="keyword" data-v-e768e876="">await foreach</span> (<span class="keyword" data-v-e768e876="">var</span> d <span class="keyword" data-v-e768e876="">in</span> orders.FindAllAsync(ct)) { ... }</code></pre><h3 data-v-e768e876="">Predicate filter</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="comment" data-v-e768e876="">// Sync predicate filter</span>
<span class="keyword" data-v-e768e876="">var</span> pending = orders.Find(d =&gt; d.GetString(<span class="string" data-v-e768e876="">"status"</span>) == <span class="string" data-v-e768e876="">"pending"</span>);

<span class="comment" data-v-e768e876="">// Async predicate filter</span>
<span class="keyword" data-v-e768e876="">await foreach</span> (<span class="keyword" data-v-e768e876="">var</span> d <span class="keyword" data-v-e768e876="">in</span> orders.FindAsync(d =&gt; d.GetDouble(<span class="string" data-v-e768e876="">"total"</span>) &gt; <span class="number" data-v-e768e876="">100</span>, ct)) { ... }</code></pre><h3 data-v-e768e876="">Zero-copy predicate scan</h3><p data-v-e768e876="">Use <code data-v-e768e876="">BsonSpanReader</code> to filter directly on the raw bytes ‚Äî no heap allocation per document:</p><pre data-v-e768e876=""><code data-v-e768e876=""><span class="keyword" data-v-e768e876="">var</span> shipped = orders.Scan(reader =&gt;
{
    <span class="keyword" data-v-e768e876="">if</span> (reader.TryReadString(<span class="string" data-v-e768e876="">"status"</span>, <span class="keyword" data-v-e768e876="">out var</span> status))
        <span class="keyword" data-v-e768e876="">return</span> status == <span class="string" data-v-e768e876="">"shipped"</span>;
    <span class="keyword" data-v-e768e876="">return false</span>;
});</code></pre><h3 data-v-e768e876="">B-Tree range query</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="keyword" data-v-e768e876="">var</span> recent = orders.QueryIndex(<span class="string" data-v-e768e876="">"idx_placed_at"</span>, minDate, maxDate);</code></pre><h3 data-v-e768e876="">Count</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="keyword" data-v-e768e876="">int</span> total = orders.Count();</code></pre><h3 data-v-e768e876="">Read fields from a BsonDocument</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="keyword" data-v-e768e876="">if</span> (doc <span class="keyword" data-v-e768e876="">is not null</span>)
{
    <span class="keyword" data-v-e768e876="">string</span>  status   = doc.GetString(<span class="string" data-v-e768e876="">"status"</span>);
    <span class="keyword" data-v-e768e876="">double</span>  total    = doc.GetDouble(<span class="string" data-v-e768e876="">"total"</span>);
    <span class="type" data-v-e768e876="">BsonId</span>  docId    = doc.Id;
}</code></pre></section><section data-v-e768e876=""><h2 data-v-e768e876="">Vector &amp; Spatial Search</h2><pre data-v-e768e876=""><code data-v-e768e876=""><span class="comment" data-v-e768e876="">// Vector similarity search (HNSW)</span>
<span class="keyword" data-v-e768e876="">var</span> similar = orders.VectorSearch(<span class="string" data-v-e768e876="">"idx_embedding"</span>, queryVector, k: <span class="number" data-v-e768e876="">10</span>);

<span class="comment" data-v-e768e876="">// Geospatial proximity (Milan, 5 km radius)</span>
<span class="keyword" data-v-e768e876="">var</span> nearby = orders.Near(<span class="string" data-v-e768e876="">"idx_location"</span>, (<span class="number" data-v-e768e876="">45.46</span>, <span class="number" data-v-e768e876="">9.18</span>), radiusKm: <span class="number" data-v-e768e876="">5.0</span>);

<span class="comment" data-v-e768e876="">// Bounding box</span>
<span class="keyword" data-v-e768e876="">var</span> inArea = orders.Within(<span class="string" data-v-e768e876="">"idx_location"</span>, (<span class="number" data-v-e768e876="">45.0</span>, <span class="number" data-v-e768e876="">9.0</span>), (<span class="number" data-v-e768e876="">46.0</span>, <span class="number" data-v-e768e876="">10.0</span>));</code></pre></section><section data-v-e768e876=""><h2 data-v-e768e876="">Update &amp; Delete</h2><pre data-v-e768e876=""><code data-v-e768e876=""><span class="comment" data-v-e768e876="">// Sync</span>
<span class="keyword" data-v-e768e876="">bool</span> updated = orders.Update(id, newDoc);
<span class="keyword" data-v-e768e876="">bool</span> deleted = orders.Delete(id);

<span class="comment" data-v-e768e876="">// Async (collection-level)</span>
<span class="keyword" data-v-e768e876="">bool</span> updated = <span class="keyword" data-v-e768e876="">await</span> orders.UpdateAsync(id, newDoc, ct);
<span class="keyword" data-v-e768e876="">bool</span> deleted = <span class="keyword" data-v-e768e876="">await</span> orders.DeleteAsync(id, ct);

<span class="comment" data-v-e768e876="">// Bulk (single transaction)</span>
<span class="keyword" data-v-e768e876="">int</span> updatedCount = orders.UpdateBulk([(id1, doc1), (id2, doc2)]);
<span class="keyword" data-v-e768e876="">int</span> deletedCount = orders.DeleteBulk([id1, id2, id3]);

<span class="comment" data-v-e768e876="">// Bulk async</span>
<span class="keyword" data-v-e768e876="">int</span> updatedCount = <span class="keyword" data-v-e768e876="">await</span> orders.UpdateBulkAsync([(id1, doc1), (id2, doc2)], ct);
<span class="keyword" data-v-e768e876="">int</span> deletedCount = <span class="keyword" data-v-e768e876="">await</span> orders.DeleteBulkAsync([id1, id2, id3], ct);</code></pre></section><section data-v-e768e876=""><h2 data-v-e768e876="">Index Management</h2><pre data-v-e768e876=""><code data-v-e768e876=""><span class="comment" data-v-e768e876="">// B-Tree secondary index</span>
orders.CreateIndex(<span class="string" data-v-e768e876="">"status"</span>);
orders.CreateIndex(<span class="string" data-v-e768e876="">"placed_at"</span>, unique: <span class="keyword" data-v-e768e876="">false</span>);
orders.CreateIndex(<span class="string" data-v-e768e876="">"order_number"</span>, unique: <span class="keyword" data-v-e768e876="">true</span>);

<span class="comment" data-v-e768e876="">// Vector index (HNSW)</span>
orders.CreateVectorIndex(<span class="string" data-v-e768e876="">"embedding"</span>, dimensions: <span class="number" data-v-e768e876="">1536</span>, metric: <span class="type" data-v-e768e876="">VectorMetric</span>.Cosine);

<span class="comment" data-v-e768e876="">// Spatial index (R-Tree)</span>
orders.CreateSpatialIndex(<span class="string" data-v-e768e876="">"location"</span>);

<span class="comment" data-v-e768e876="">// Introspect / drop</span>
<span class="type" data-v-e768e876="">IReadOnlyList</span>&lt;<span class="keyword" data-v-e768e876="">string</span>&gt; indexes = orders.ListIndexes();
orders.DropIndex(<span class="string" data-v-e768e876="">"idx_status"</span>);</code></pre></section><section data-v-e768e876=""><h2 data-v-e768e876="">JSON Interop <span style="font-size:.6em;vertical-align:middle;background:rgba(231,76,60,.15);color:var(--blite-red);padding:2px 8px;border-radius:12px;font-weight:600" data-v-e768e876="">v1.7.0</span></h2><p data-v-e768e876=""><code data-v-e768e876="">BsonJsonConverter</code> bridges JSON and BLite's native BSON ‚Äî ideal for ingesting HTTP payloads, exporting documents, or building migration scripts. It uses <code data-v-e768e876="">System.Text.Json</code> (no extra dependencies) and shares the engine's field-name dictionary so field compression is consistent across all operations.</p><h3 data-v-e768e876="">Ingest a JSON payload</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="keyword" data-v-e768e876="">using</span> BLite.Bson;

<span class="comment" data-v-e768e876="">// Get the engine's shared key maps (field-name compression)</span>
<span class="keyword" data-v-e768e876="">var</span> (keyMap, reverseKeyMap) = engine.GetKeyMap();

<span class="keyword" data-v-e768e876="">string</span> json = <span class="string" data-v-e768e876="">@"{""_id"":""507f1f77bcf86cd799439011"",""status"":""pending"",""total"":199.99}"</span>;

<span class="type" data-v-e768e876="">BsonDocument</span> doc = <span class="type" data-v-e768e876="">BsonJsonConverter</span>.FromJson(json, keyMap, reverseKeyMap);
<span class="type" data-v-e768e876="">BsonId</span> id = orders.Insert(doc);</code></pre><h3 data-v-e768e876="">Export a document as JSON</h3><pre data-v-e768e876=""><code data-v-e768e876=""><span class="type" data-v-e768e876="">BsonDocument</span>? doc = orders.FindById(id);

<span class="keyword" data-v-e768e876="">if</span> (doc <span class="keyword" data-v-e768e876="">is not null</span>)
{
    <span class="keyword" data-v-e768e876="">string</span> json    = <span class="type" data-v-e768e876="">BsonJsonConverter</span>.ToJson(doc);                   <span class="comment" data-v-e768e876="">// indented</span>
    <span class="keyword" data-v-e768e876="">string</span> compact = <span class="type" data-v-e768e876="">BsonJsonConverter</span>.ToJson(doc, indented: <span class="keyword" data-v-e768e876="">false</span>); <span class="comment" data-v-e768e876="">// compact</span>
}</code></pre><div class="info-box" data-v-e768e876=""><div class="info-header" data-v-e768e876="">üìñ Full type-mapping tables</div>See the <a href="/docs/converters" style="color:var(--blite-red)" data-v-e768e876="">Converters</a> page for the complete JSON‚ÜîBSON type mapping reference.</div></section><section data-v-e768e876=""><h2 data-v-e768e876="">API Reference</h2><h3 data-v-e768e876="">BLiteEngine</h3><table data-v-e768e876=""><thead data-v-e768e876=""><tr data-v-e768e876=""><th data-v-e768e876="">Method</th><th data-v-e768e876="">Description</th></tr></thead><tbody data-v-e768e876=""><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">RegisterKeys(fieldNames)</code></td><td data-v-e768e876="">Pre-register field-name strings into the engine's shared dictionary (for cross-context sync)</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">GetKeyMap()</code></td><td data-v-e768e876="">Return the current field-name dictionary (<code data-v-e768e876="">IReadOnlyDictionary&lt;string, int&gt;</code>) for external consumers</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">GetOrCreateCollection(name, idType)</code></td><td data-v-e768e876="">Open or create a <code data-v-e768e876="">DynamicCollection</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">GetCollection(name)</code></td><td data-v-e768e876="">Get existing collection or <code data-v-e768e876="">null</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">ListCollections()</code></td><td data-v-e768e876="">List all collection names</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DropCollection(name)</code></td><td data-v-e768e876="">Delete a collection and all its data</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Insert(collection, doc)</code></td><td data-v-e768e876="">Sync insert, returns <code data-v-e768e876="">BsonId</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">InsertAsync(collection, doc, ct)</code></td><td data-v-e768e876="">Async insert, returns <code data-v-e768e876="">Task&lt;BsonId&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">InsertBulk(collection, docs)</code></td><td data-v-e768e876="">Bulk insert (one transaction), returns <code data-v-e768e876="">List&lt;BsonId&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">InsertBulkAsync(collection, docs, ct)</code></td><td data-v-e768e876="">Async bulk insert, returns <code data-v-e768e876="">Task&lt;List&lt;BsonId&gt;&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindById(collection, id)</code></td><td data-v-e768e876="">Sync primary-key lookup</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindByIdAsync(collection, id, ct)</code></td><td data-v-e768e876="">Async primary-key lookup</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindAll(collection)</code></td><td data-v-e768e876="">Sync full-collection scan</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindAllAsync(collection, ct)</code></td><td data-v-e768e876="">Async streaming <code data-v-e768e876="">IAsyncEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Find(collection, predicate)</code></td><td data-v-e768e876="">Sync predicate filter</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindAsync(collection, predicate, ct)</code></td><td data-v-e768e876="">Async predicate filter as <code data-v-e768e876="">IAsyncEnumerable</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Update(collection, id, doc)</code></td><td data-v-e768e876="">Sync update</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">UpdateAsync(collection, id, doc, ct)</code></td><td data-v-e768e876="">Async update</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">UpdateBulk(collection, updates)</code></td><td data-v-e768e876="">Bulk update (one transaction), returns <code data-v-e768e876="">int</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">UpdateBulkAsync(collection, updates, ct)</code></td><td data-v-e768e876="">Async bulk update, returns <code data-v-e768e876="">Task&lt;int&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Delete(collection, id)</code></td><td data-v-e768e876="">Sync delete</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DeleteAsync(collection, id, ct)</code></td><td data-v-e768e876="">Async delete</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DeleteBulk(collection, ids)</code></td><td data-v-e768e876="">Bulk delete (one transaction), returns <code data-v-e768e876="">int</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DeleteBulkAsync(collection, ids, ct)</code></td><td data-v-e768e876="">Async bulk delete, returns <code data-v-e768e876="">Task&lt;int&gt;</code></td></tr></tbody></table><h3 data-v-e768e876="">DynamicCollection</h3><table data-v-e768e876=""><thead data-v-e768e876=""><tr data-v-e768e876=""><th data-v-e768e876="">Method</th><th data-v-e768e876="">Returns</th></tr></thead><tbody data-v-e768e876=""><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">CreateDocument(fields, builder)</code></td><td data-v-e768e876=""><code data-v-e768e876="">BsonDocument</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Insert(doc)</code></td><td data-v-e768e876=""><code data-v-e768e876="">BsonId</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">InsertAsync(doc, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">Task&lt;BsonId&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">InsertBulk(docs)</code></td><td data-v-e768e876=""><code data-v-e768e876="">List&lt;BsonId&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">InsertBulkAsync(docs, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">Task&lt;List&lt;BsonId&gt;&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindById(id)</code></td><td data-v-e768e876=""><code data-v-e768e876="">BsonDocument?</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindByIdAsync(id, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">ValueTask&lt;BsonDocument?&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindAll()</code></td><td data-v-e768e876=""><code data-v-e768e876="">IEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindAllAsync(ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IAsyncEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Find(predicate)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">FindAsync(predicate, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IAsyncEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Scan(predicate)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IEnumerable&lt;BsonDocument&gt;</code> (zero-copy)</td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">QueryIndex(name, min, max)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">VectorSearch(name, vector, k)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Near(name, center, radiusKm)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Within(name, min, max)</code></td><td data-v-e768e876=""><code data-v-e768e876="">IEnumerable&lt;BsonDocument&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Count()</code></td><td data-v-e768e876=""><code data-v-e768e876="">int</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Update(id, doc)</code></td><td data-v-e768e876=""><code data-v-e768e876="">bool</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">UpdateAsync(id, doc, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">Task&lt;bool&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">UpdateBulk(updates)</code></td><td data-v-e768e876=""><code data-v-e768e876="">int</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">UpdateBulkAsync(updates, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">Task&lt;int&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">Delete(id)</code></td><td data-v-e768e876=""><code data-v-e768e876="">bool</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DeleteAsync(id, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">Task&lt;bool&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DeleteBulk(ids)</code></td><td data-v-e768e876=""><code data-v-e768e876="">int</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DeleteBulkAsync(ids, ct)</code></td><td data-v-e768e876=""><code data-v-e768e876="">Task&lt;int&gt;</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">CreateIndex / CreateVectorIndex / CreateSpatialIndex</code></td><td data-v-e768e876=""><code data-v-e768e876="">void</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">DropIndex(name)</code></td><td data-v-e768e876=""><code data-v-e768e876="">bool</code></td></tr><tr data-v-e768e876=""><td data-v-e768e876=""><code data-v-e768e876="">ListIndexes()</code></td><td data-v-e768e876=""><code data-v-e768e876="">IReadOnlyList&lt;string&gt;</code></td></tr></tbody></table></section></div></div></main></div></main><footer class="main-footer" data-v-fb6af8ee=""><div class="container footer-inner" data-v-fb6af8ee=""><div class="footer-col" data-v-fb6af8ee=""><p data-v-fb6af8ee="">¬© 2026 BLite Project. Open Source (MIT).</p><p class="tagline" data-v-fb6af8ee="">"Sky is Blite, no Clouds today."</p></div><div class="footer-col footer-downloads" data-v-fb6af8ee=""><p class="footer-dl-title" data-v-fb6af8ee="">‚¨á Download BLite Studio v1.9.0</p><div class="footer-dl-links" data-v-fb6af8ee=""><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-win-x64.msi" data-v-fb6af8ee="">ü™ü Windows MSI</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-win-x64-portable.zip" data-v-fb6af8ee="">ü™ü Windows Portable</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/blite-studio_1.9.0_amd64.deb" data-v-fb6af8ee="">üêß Linux .deb</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-linux-x64.tar.gz" data-v-fb6af8ee="">üêß Linux tar.gz</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-osx-arm64.dmg" data-v-fb6af8ee="">üçé macOS Apple Silicon</a><a href="https://github.com/EntglDb/BLite/releases/download/studio-v1.9.0/BLite.Studio-1.9.0-osx-x64.dmg" data-v-fb6af8ee="">üçé macOS Intel</a></div></div></div></footer></div></div></body></html>