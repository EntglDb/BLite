// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 12 benchmark(s) in total *****
// ***** Building 2 exe(s) in Parallel: Start   *****
// ***** Done, took 00:00:10 (10.03 sec)   *****
// Found 8 benchmarks:
//   InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
//   InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
//   InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
//   InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
//   InsertBenchmarks.'SQLite Single Insert (AutoCommit)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
//   InsertBenchmarks.'DocumentDb Single Insert': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
//   InsertBenchmarks.'SQLite Single Insert (AutoCommit)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
//   InsertBenchmarks.'DocumentDb Single Insert': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)

Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet DocumentDb.Benchmark-Job-CNUJVU-1.dll --anonymousPipes 1888 1884 --benchmarkName DocumentDb.Benchmark.InsertBenchmarks.Sqlite_Insert_Batch --job "InvocationCount=1, UnrollFactor=1" --benchmarkId 0 in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\bin\Release\net10.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-CNUJVU(InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 89800.00 ns, 89.8000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\FABLUA\AppData\Local\Temp\bench_sqlite_b205cdb6ef7c4af29cfd4811b4dded64.db' because it is being used by another process.
   at System.IO.FileSystem.DeleteFile(String fullPath)
   at DocumentDb.Benchmark.InsertBenchmarks.Cleanup() in C:\github\DocumentDb\src\DocumentDb.Benchmark\InsertBenchmarks.cs:line 110
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_0.Run(IHost host, String benchmarkName) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 177
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 42736 has exited with code -1.

// ** Remained 11 (91,7%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet DocumentDb.Benchmark-Job-CNUJVU-1.dll --anonymousPipes 1836 1828 --benchmarkName DocumentDb.Benchmark.InsertBenchmarks.DocumentDb_Insert_Batch --job "InvocationCount=1, UnrollFactor=1" --benchmarkId 1 in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\bin\Release\net10.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-CNUJVU(InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 122900.00 ns, 122.9000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at DocumentDb.Bson.BsonSpanWriter.WriteElementHeader(BsonType type, String name) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 49
   at DocumentDb.Bson.BsonSpanWriter.WriteInt32(String name, Int32 value) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 96
   at DocumentDb.Core.Collections.DocumentCollection`1.SaveIdMap() in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 179
   at DocumentDb.Core.Collections.DocumentCollection`1.Insert(T entity) in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 527
   at DocumentDb.Benchmark.InsertBenchmarks.DocumentDb_Insert_Batch() in C:\github\DocumentDb\src\DocumentDb.Benchmark\InsertBenchmarks.cs:line 160
   at BenchmarkDotNet.Autogenerated.Runnable_1.WorkloadActionUnroll(Int64 invokeCount) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 435
   at BenchmarkDotNet.Engines.Engine.Measure(Action`1 action, Int64 invokeCount)
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_1.Run(IHost host, String benchmarkName) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 340
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 69368 has exited with code -1.

// ** Remained 10 (83,3%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-VLPMSV(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 117000.00 ns, 117.0000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\FABLUA\AppData\Local\Temp\bench_sqlite_1995437d54b846769de1d09f80b84cd6.db' because it is being used by another process.
   at BenchmarkDotNet.Autogenerated.Runnable_0.IterationCleanup()
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_0.Run(BenchmarkCase benchmarkCase, IHost host)
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Toolchains.InProcess.Emit.Implementation.RunnableProgram.Run(BenchmarkId benchmarkId, Assembly partitionAssembly, BenchmarkCase benchmarkCase, IHost host)
Executable C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-InProcess-2Emitted.dll not found
ExitCode != 0 and no results reported
No Workload Results were obtained from the run.

// ** Remained 9 (75,0%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-VLPMSV(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 143100.00 ns, 143.1000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at DocumentDb.Bson.BsonSpanWriter.WriteElementHeader(BsonType type, String name) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 49
   at DocumentDb.Bson.BsonSpanWriter.WriteInt32(String name, Int32 value) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 96
   at DocumentDb.Core.Collections.DocumentCollection`1.SaveIdMap() in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 179
   at DocumentDb.Core.Collections.DocumentCollection`1.Insert(T entity) in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 527
   at DocumentDb.Benchmark.InsertBenchmarks.DocumentDb_Insert_Batch() in C:\github\DocumentDb\src\DocumentDb.Benchmark\InsertBenchmarks.cs:line 160
   at BenchmarkDotNet.Autogenerated.Runnable_1.WorkloadActionUnroll(Int64 invokeCount)
   at BenchmarkDotNet.Engines.Engine.Measure(Action`1 action, Int64 invokeCount)
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_1.Run(BenchmarkCase benchmarkCase, IHost host)
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Toolchains.InProcess.Emit.Implementation.RunnableProgram.Run(BenchmarkId benchmarkId, Assembly partitionAssembly, BenchmarkCase benchmarkCase, IHost host)
Executable C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-InProcess-2Emitted.dll not found
ExitCode != 0 and no results reported
No Workload Results were obtained from the run.

// ** Remained 8 (66,7%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'SQLite Single Insert (AutoCommit)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet DocumentDb.Benchmark-Job-CNUJVU-1.dll --anonymousPipes 1980 1976 --benchmarkName DocumentDb.Benchmark.InsertBenchmarks.Sqlite_Insert_Single --job "InvocationCount=1, UnrollFactor=1" --benchmarkId 2 in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\bin\Release\net10.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-CNUJVU(InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 102800.00 ns, 102.8000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\FABLUA\AppData\Local\Temp\bench_sqlite_e9fd8438990842a497dddb84af5f43ca.db' because it is being used by another process.
   at System.IO.FileSystem.DeleteFile(String fullPath)
   at DocumentDb.Benchmark.InsertBenchmarks.Cleanup() in C:\github\DocumentDb\src\DocumentDb.Benchmark\InsertBenchmarks.cs:line 110
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_2.Run(IHost host, String benchmarkName) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 503
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 31868 has exited with code -1.

// ** Remained 7 (58,3%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'DocumentDb Single Insert': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet DocumentDb.Benchmark-Job-CNUJVU-1.dll --anonymousPipes 1764 1888 --benchmarkName DocumentDb.Benchmark.InsertBenchmarks.DocumentDb_Insert_Single --job "InvocationCount=1, UnrollFactor=1" --benchmarkId 3 in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\bin\Release\net10.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-CNUJVU(InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 118000.00 ns, 118.0000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\FABLUA\AppData\Local\Temp\bench_sqlite_722860db5b754a96826afae5f2de326b.db' because it is being used by another process.
   at System.IO.FileSystem.DeleteFile(String fullPath)
   at DocumentDb.Benchmark.InsertBenchmarks.Cleanup() in C:\github\DocumentDb\src\DocumentDb.Benchmark\InsertBenchmarks.cs:line 110
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_3.Run(IHost host, String benchmarkName) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 666
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 73028 has exited with code -1.

// ** Remained 6 (50,0%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'SQLite Single Insert (AutoCommit)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-VLPMSV(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 135400.00 ns, 135.4000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\FABLUA\AppData\Local\Temp\bench_sqlite_4b0afe4be62a4282aefd5b4a7e643b1c.db' because it is being used by another process.
   at BenchmarkDotNet.Autogenerated.Runnable_2.IterationCleanup()
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_2.Run(BenchmarkCase benchmarkCase, IHost host)
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Toolchains.InProcess.Emit.Implementation.RunnableProgram.Run(BenchmarkId benchmarkId, Assembly partitionAssembly, BenchmarkCase benchmarkCase, IHost host)
Executable C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-InProcess-2Emitted.dll not found
ExitCode != 0 and no results reported
No Workload Results were obtained from the run.

// ** Remained 5 (41,7%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: InsertBenchmarks.'DocumentDb Single Insert': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
// *** Execute ***
// Launch: 1 / 1

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-VLPMSV(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)

OverheadJitting  1: 1 op, 130300.00 ns, 130.3000 us/op

System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IO.IOException: The process cannot access the file 'C:\Users\FABLUA\AppData\Local\Temp\bench_sqlite_92e370477c0c4a87b57d70c95e37ba60.db' because it is being used by another process.
   at BenchmarkDotNet.Autogenerated.Runnable_3.IterationCleanup()
   at BenchmarkDotNet.Engines.Engine.RunIteration(IterationData data)
   at BenchmarkDotNet.Engines.EngineFactory.Jit(Engine engine, Int32 jitIndex, Int32 invokeCount, Int32 unrollFactor)
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_3.Run(BenchmarkCase benchmarkCase, IHost host)
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Toolchains.InProcess.Emit.Implementation.RunnableProgram.Run(BenchmarkId benchmarkId, Assembly partitionAssembly, BenchmarkCase benchmarkCase, IHost host)
Executable C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-InProcess-2Emitted.dll not found
ExitCode != 0 and no results reported
No Workload Results were obtained from the run.

// ** Remained 4 (33,3%) benchmark(s) to run. Estimated finish 2026-02-07 8:53 (0h 0m from now) **
Successfully reverted power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts\results\DocumentDb.Benchmark.InsertBenchmarks-report.csv
  BenchmarkDotNet.Artifacts\results\DocumentDb.Benchmark.InsertBenchmarks-report-github.md
  BenchmarkDotNet.Artifacts\results\DocumentDb.Benchmark.InsertBenchmarks-report.html

// * Detailed results *
InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
Runtime = .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3; GC = Concurrent Workstation
There are not any results runs

InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
Runtime = .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3; GC = Concurrent Workstation
There are not any results runs

InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
Runtime = ; GC = 
There are not any results runs

InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
Runtime = ; GC = 
There are not any results runs

InsertBenchmarks.'SQLite Single Insert (AutoCommit)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
Runtime = .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3; GC = Concurrent Workstation
There are not any results runs

InsertBenchmarks.'DocumentDb Single Insert': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
Runtime = .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3; GC = Concurrent Workstation
There are not any results runs

InsertBenchmarks.'SQLite Single Insert (AutoCommit)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
Runtime = ; GC = 
There are not any results runs

InsertBenchmarks.'DocumentDb Single Insert': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
Runtime = ; GC = 
There are not any results runs

// * Summary *

BenchmarkDotNet v0.15.8, Windows 11 (10.0.22631.6345/23H2/2023Update/SunValley3)
13th Gen Intel Core i7-13800H 2.50GHz, 1 CPU, 20 logical and 14 physical cores
.NET SDK 10.0.102
  [Host]     : .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
  Job-CNUJVU : .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3

InvocationCount=1  UnrollFactor=1  

| Method                                         | Job        | Toolchain              | Mean | Error | Ratio | RatioSD | Alloc Ratio |
|----------------------------------------------- |----------- |----------------------- |-----:|------:|------:|--------:|------------:|
| 'SQLite Batch Insert (1000 items, 1 Txn)'      | Job-CNUJVU | Default                |   NA |    NA |     ? |       ? |           ? |
| 'DocumentDb Insert (1000 items, No Batch API)' | Job-CNUJVU | Default                |   NA |    NA |     ? |       ? |           ? |
|                                                |            |                        |      |       |       |         |             |
| 'SQLite Batch Insert (1000 items, 1 Txn)'      | InProcess  | InProcessEmitToolchain |   NA |    NA |     ? |       ? |           ? |
| 'DocumentDb Insert (1000 items, No Batch API)' | InProcess  | InProcessEmitToolchain |   NA |    NA |     ? |       ? |           ? |
|                                                |            |                        |      |       |       |         |             |
| 'SQLite Single Insert (AutoCommit)'            | Job-CNUJVU | Default                |   NA |    NA |     ? |       ? |           ? |
| 'DocumentDb Single Insert'                     | Job-CNUJVU | Default                |   NA |    NA |     ? |       ? |           ? |
|                                                |            |                        |      |       |       |         |             |
| 'SQLite Single Insert (AutoCommit)'            | InProcess  | InProcessEmitToolchain |   NA |    NA |     ? |       ? |           ? |
| 'DocumentDb Single Insert'                     | InProcess  | InProcessEmitToolchain |   NA |    NA |     ? |       ? |           ? |

Benchmarks with issues:
  InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
  InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
  InsertBenchmarks.'SQLite Batch Insert (1000 items, 1 Txn)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
  InsertBenchmarks.'DocumentDb Insert (1000 items, No Batch API)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
  InsertBenchmarks.'SQLite Single Insert (AutoCommit)': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
  InsertBenchmarks.'DocumentDb Single Insert': Job-CNUJVU(InvocationCount=1, UnrollFactor=1)
  InsertBenchmarks.'SQLite Single Insert (AutoCommit)': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)
  InsertBenchmarks.'DocumentDb Single Insert': InProcess(Toolchain=InProcessEmitToolchain, InvocationCount=1, UnrollFactor=1)

// * Warnings *
BaselineCustomAnalyzer
  Summary -> A question mark '?' symbol indicates that it was not possible to compute the (Ratio, RatioSD, Alloc Ratio) column(s) because the baseline or benchmark could not be found, or the baseline value is too close to zero.
Environment
  Summary -> Detected error exit code from one of the benchmarks. It might be caused by following antivirus software:
        - Windows Defender (windowsdefender://)
Use InProcessEmitToolchain or InProcessNoEmitToolchain to avoid new process creation.


// * Legends *
  Mean        : Arithmetic mean of all measurements
  Error       : Half of 99.9% confidence interval
  Ratio       : Mean of the ratio distribution ([Current]/[Baseline])
  RatioSD     : Standard deviation of the ratio distribution ([Current]/[Baseline])
  Alloc Ratio : Allocated memory ratio distribution ([Current]/[Baseline])
  1 ns        : 1 Nanosecond (0.000000001 sec)

// * Diagnostic Output - MemoryDiagnoser *


// ***** BenchmarkRunner: End *****
Run time: 00:00:02 (2.13 sec), executed benchmarks: 4

// Found 4 benchmarks:
//   ReadBenchmarks.'SQLite FindById (Deserialize)': DefaultJob
//   ReadBenchmarks.'DocumentDb FindById': DefaultJob
//   ReadBenchmarks.'SQLite FindById (Deserialize)': InProcess(Toolchain=InProcessEmitToolchain)
//   ReadBenchmarks.'DocumentDb FindById': InProcess(Toolchain=InProcessEmitToolchain)

Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: ReadBenchmarks.'SQLite FindById (Deserialize)': DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet DocumentDb.Benchmark-Job-CNUJVU-1.dll --anonymousPipes 2100 2084 --benchmarkName DocumentDb.Benchmark.ReadBenchmarks.Sqlite_FindById --job Default --benchmarkId 4 in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\bin\Release\net10.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: DefaultJob


System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at DocumentDb.Bson.BsonSpanWriter.WriteElementHeader(BsonType type, String name) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 49
   at DocumentDb.Bson.BsonSpanWriter.WriteInt32(String name, Int32 value) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 96
   at DocumentDb.Core.Collections.DocumentCollection`1.SaveIdMap() in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 179
   at DocumentDb.Core.Collections.DocumentCollection`1.Insert(T entity) in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 527
   at DocumentDb.Benchmark.ReadBenchmarks.Setup() in C:\github\DocumentDb\src\DocumentDb.Benchmark\ReadBenchmarks.cs:line 65
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_4.Run(IHost host, String benchmarkName) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 828
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 57276 has exited with code -1.

// ** Remained 3 (25,0%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: ReadBenchmarks.'DocumentDb FindById': DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet DocumentDb.Benchmark-Job-CNUJVU-1.dll --anonymousPipes 2164 2128 --benchmarkName DocumentDb.Benchmark.ReadBenchmarks.DocumentDb_FindById --job Default --benchmarkId 5 in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\bin\Release\net10.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: DefaultJob


System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at DocumentDb.Bson.BsonSpanWriter.WriteElementHeader(BsonType type, String name) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 49
   at DocumentDb.Bson.BsonSpanWriter.WriteInt32(String name, Int32 value) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 96
   at DocumentDb.Core.Collections.DocumentCollection`1.SaveIdMap() in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 179
   at DocumentDb.Core.Collections.DocumentCollection`1.Insert(T entity) in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 527
   at DocumentDb.Benchmark.ReadBenchmarks.Setup() in C:\github\DocumentDb\src\DocumentDb.Benchmark\ReadBenchmarks.cs:line 65
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_5.Run(IHost host, String benchmarkName) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 1025
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Autogenerated.UniqueProgramName.AfterAssemblyLoadingAttached(String[] args) in C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-Job-CNUJVU-1\DocumentDb.Benchmark-Job-CNUJVU-1.notcs:line 57
// AfterAll
No Workload Results were obtained from the run.
// Benchmark Process 87308 has exited with code -1.

// ** Remained 2 (16,7%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: ReadBenchmarks.'SQLite FindById (Deserialize)': InProcess(Toolchain=InProcessEmitToolchain)
// *** Execute ***
// Launch: 1 / 1

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-JWQWGO(Toolchain=InProcessEmitToolchain)


System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at DocumentDb.Bson.BsonSpanWriter.WriteElementHeader(BsonType type, String name) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 49
   at DocumentDb.Bson.BsonSpanWriter.WriteInt32(String name, Int32 value) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 96
   at DocumentDb.Core.Collections.DocumentCollection`1.SaveIdMap() in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 179
   at DocumentDb.Core.Collections.DocumentCollection`1.Insert(T entity) in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 527
   at DocumentDb.Benchmark.ReadBenchmarks.Setup() in C:\github\DocumentDb\src\DocumentDb.Benchmark\ReadBenchmarks.cs:line 65
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_4.Run(BenchmarkCase benchmarkCase, IHost host)
   at System.RuntimeMethodHandle.InvokeMethod(ObjectHandleOnStack target, Void** arguments, ObjectHandleOnStack sig, BOOL isConstructor, ObjectHandleOnStack result)
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Toolchains.InProcess.Emit.Implementation.RunnableProgram.Run(BenchmarkId benchmarkId, Assembly partitionAssembly, BenchmarkCase benchmarkCase, IHost host)
Executable C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-InProcess-2Emitted.dll not found
ExitCode != 0 and no results reported
No Workload Results were obtained from the run.

// ** Remained 1 (8,3%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// **************************
// Benchmark: ReadBenchmarks.'DocumentDb FindById': InProcess(Toolchain=InProcessEmitToolchain)
// *** Execute ***
// Launch: 1 / 1

// Benchmark Process Environment Information:
// BenchmarkDotNet v0.15.8
// Runtime=.NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2+BMI1+BMI2+F16C+FMA+LZCNT+MOVBE,AVX,SSE3+SSSE3+SSE4.1+SSE4.2+POPCNT,X86Base+SSE+SSE2,AES+PCLMUL,AvxVnni,SERIALIZE VectorSize=256
// Job: Job-JWQWGO(Toolchain=InProcessEmitToolchain)


System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
 ---> System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at DocumentDb.Bson.BsonSpanWriter.WriteElementHeader(BsonType type, String name) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 49
   at DocumentDb.Bson.BsonSpanWriter.WriteInt32(String name, Int32 value) in C:\github\DocumentDb\src\DocumentDb.Bson\BsonSpanWriter.cs:line 96
   at DocumentDb.Core.Collections.DocumentCollection`1.SaveIdMap() in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 179
   at DocumentDb.Core.Collections.DocumentCollection`1.Insert(T entity) in C:\github\DocumentDb\src\DocumentDb.Core\Collections\DocumentCollection.cs:line 527
   at DocumentDb.Benchmark.ReadBenchmarks.Setup() in C:\github\DocumentDb\src\DocumentDb.Benchmark\ReadBenchmarks.cs:line 65
   at BenchmarkDotNet.Engines.EngineFactory.CreateReadyToRun(EngineParameters engineParameters)
   at BenchmarkDotNet.Autogenerated.Runnable_5.Run(BenchmarkCase benchmarkCase, IHost host)
   at System.RuntimeMethodHandle.InvokeMethod(ObjectHandleOnStack target, Void** arguments, ObjectHandleOnStack sig, BOOL isConstructor, ObjectHandleOnStack result)
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   --- End of inner exception stack trace ---
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.MethodBase.Invoke(Object obj, Object[] parameters)
   at BenchmarkDotNet.Toolchains.InProcess.Emit.Implementation.RunnableProgram.Run(BenchmarkId benchmarkId, Assembly partitionAssembly, BenchmarkCase benchmarkCase, IHost host)
Executable C:\github\DocumentDb\src\DocumentDb.Benchmark\bin\Release\net10.0\DocumentDb.Benchmark-InProcess-2Emitted.dll not found
ExitCode != 0 and no results reported
No Workload Results were obtained from the run.

// ** Remained 0 (0,0%) benchmark(s) to run. Estimated finish 2026-02-07 8:54 (0h 0m from now) **
Successfully reverted power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: Prestazioni elevate)
// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts\results\DocumentDb.Benchmark.ReadBenchmarks-report.csv
  BenchmarkDotNet.Artifacts\results\DocumentDb.Benchmark.ReadBenchmarks-report-github.md
  BenchmarkDotNet.Artifacts\results\DocumentDb.Benchmark.ReadBenchmarks-report.html

// * Detailed results *
ReadBenchmarks.'SQLite FindById (Deserialize)': DefaultJob
Runtime = .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3; GC = Concurrent Workstation
There are not any results runs

ReadBenchmarks.'DocumentDb FindById': DefaultJob
Runtime = .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3; GC = Concurrent Workstation
There are not any results runs

ReadBenchmarks.'SQLite FindById (Deserialize)': InProcess(Toolchain=InProcessEmitToolchain)
Runtime = ; GC = 
There are not any results runs

ReadBenchmarks.'DocumentDb FindById': InProcess(Toolchain=InProcessEmitToolchain)
Runtime = ; GC = 
There are not any results runs

// * Summary *

BenchmarkDotNet v0.15.8, Windows 11 (10.0.22631.6345/23H2/2023Update/SunValley3)
13th Gen Intel Core i7-13800H 2.50GHz, 1 CPU, 20 logical and 14 physical cores
.NET SDK 10.0.102
  [Host]     : .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3
  DefaultJob : .NET 10.0.2 (10.0.2, 10.0.225.61305), X64 RyuJIT x86-64-v3


| Method                          | Job        | Toolchain              | Mean | Error | Ratio | RatioSD | Alloc Ratio |
|-------------------------------- |----------- |----------------------- |-----:|------:|------:|--------:|------------:|
| 'SQLite FindById (Deserialize)' | DefaultJob | Default                |   NA |    NA |     ? |       ? |           ? |
| 'DocumentDb FindById'           | DefaultJob | Default                |   NA |    NA |     ? |       ? |           ? |
|                                 |            |                        |      |       |       |         |             |
| 'SQLite FindById (Deserialize)' | InProcess  | InProcessEmitToolchain |   NA |    NA |     ? |       ? |           ? |
| 'DocumentDb FindById'           | InProcess  | InProcessEmitToolchain |   NA |    NA |     ? |       ? |           ? |

Benchmarks with issues:
  ReadBenchmarks.'SQLite FindById (Deserialize)': DefaultJob
  ReadBenchmarks.'DocumentDb FindById': DefaultJob
  ReadBenchmarks.'SQLite FindById (Deserialize)': InProcess(Toolchain=InProcessEmitToolchain)
  ReadBenchmarks.'DocumentDb FindById': InProcess(Toolchain=InProcessEmitToolchain)

// * Warnings *
BaselineCustomAnalyzer
  Summary -> A question mark '?' symbol indicates that it was not possible to compute the (Ratio, RatioSD, Alloc Ratio) column(s) because the baseline or benchmark could not be found, or the baseline value is too close to zero.
Environment
  Summary -> Detected error exit code from one of the benchmarks. It might be caused by following antivirus software:
        - Windows Defender (windowsdefender://)
Use InProcessEmitToolchain or InProcessNoEmitToolchain to avoid new process creation.


// * Legends *
  Mean        : Arithmetic mean of all measurements
  Error       : Half of 99.9% confidence interval
  Ratio       : Mean of the ratio distribution ([Current]/[Baseline])
  RatioSD     : Standard deviation of the ratio distribution ([Current]/[Baseline])
  Alloc Ratio : Allocated memory ratio distribution ([Current]/[Baseline])
  1 ns        : 1 Nanosecond (0.000000001 sec)

// * Diagnostic Output - MemoryDiagnoser *


// ***** BenchmarkRunner: End *****
Run time: 00:00:00 (0.96 sec), executed benchmarks: 2

Global total time: 00:00:13 (13.56 sec), executed benchmarks: 6
// * Artifacts cleanup *
Artifacts cleanup is finished
